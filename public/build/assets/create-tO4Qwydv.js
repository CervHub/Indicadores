import{m as v,r as p,j as e}from"./app-D8HxnXvU.js";import{I as l}from"./input-error-CWGp3NoT.js";import{B as x}from"./button-C7ySFUv_.js";import{D as b,a as C,b as D,c as N,d as E,e as F}from"./dialog-BsYjC0NQ.js";import{I as i}from"./input-BZWVk0Mp.js";import{L as t}from"./label-DIcfC6cw.js";import{L as I}from"./loader-circle-24X3JTG-.js";import"./utils-BR1kMNAO.js";import"./index-DHXLTb7S.js";import"./index-DD4ZhKfc.js";import"./index-CPShgjIU.js";function q({isOpen:d=!1,onOpenChange:n}){const{data:a,setData:r,post:j,processing:g,errors:o,reset:h}=v({doi:"",email:"",nombres:"",apellidos:"",telefono:"",cargo:""}),[u,m]=p.useState(d);p.useEffect(()=>{m(d)},[d]);const f=s=>{s.preventDefault(),j(route("contrata.personal.store"),{onSuccess:c=>{h(),m(!1),n&&n(!1),console.log("Solicitud de creación exitosa:",c)},onError:c=>{m(!0),console.log("Errores en la solicitud de creación:",c)}})};return e.jsx("div",{children:e.jsxs(b,{open:u,onOpenChange:s=>{m(s),n&&n(s)},children:[e.jsx("div",{className:"flex justify-start",children:e.jsx(C,{asChild:!0,children:e.jsx(x,{className:"inline-block px-4 py-2",children:"Crear Persona"})})}),e.jsxs(D,{className:"sm:max-w-[425px]",children:[e.jsxs(N,{children:[e.jsx(E,{children:"Crear Persona"}),e.jsx(F,{children:"Complete los campos para crear una nueva persona."})]}),e.jsxs("form",{onSubmit:f,className:"space-y-3",method:"post",action:route("contrata.personal.store"),children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"doi",children:"DOI"}),e.jsx(i,{id:"doi",value:a.doi,onChange:s=>r("doi",s.target.value)}),e.jsx(l,{message:o.doi})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(i,{id:"email",type:"email",value:a.email,onChange:s=>r("email",s.target.value)}),e.jsx(l,{message:o.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"nombres",children:"Nombres"}),e.jsx(i,{id:"nombres",value:a.nombres,onChange:s=>r("nombres",s.target.value)}),e.jsx(l,{message:o.nombres})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"apellidos",children:"Apellidos"}),e.jsx(i,{id:"apellidos",value:a.apellidos,onChange:s=>r("apellidos",s.target.value)}),e.jsx(l,{message:o.apellidos})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"telefono",children:"Teléfono"}),e.jsx(i,{id:"telefono",value:a.telefono,onChange:s=>r("telefono",s.target.value)}),e.jsx(l,{message:o.telefono})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"cargo",children:"Cargo"}),e.jsx(i,{id:"cargo",value:a.cargo,onChange:s=>r("cargo",s.target.value)}),e.jsx(l,{message:o.cargo})]}),e.jsxs(x,{type:"submit",className:"mt-2",disabled:g,children:[g&&e.jsx(I,{className:"h-4 w-4 animate-spin"}),"Crear"]})]})]})]})})}export{q as default};
