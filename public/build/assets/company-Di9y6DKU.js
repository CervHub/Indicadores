import{m as f,r as l,j as e}from"./app-Cn-5C3ys.js";import{B as j}from"./button-BfsQPnlH.js";import{D as h,b as D,c as y,d as E,e as g}from"./dialog-D3OTCAka.js";import{L as b}from"./loader-circle-ubJ9Lzej.js";import"./utils-U4jazdRL.js";import"./index-DPkw7taS.js";import"./index-D9Yd4Kyp.js";import"./index-Brub5Wp-.js";function B({isOpen:t=!1,onOpenChange:a,company:s,consolidated_id:r}){const{data:c,setData:d,delete:m,processing:n,reset:p}=f({company_id:s.id,consolidated_id:r}),[u,i]=l.useState(t);l.useEffect(()=>{i(t)},[t]),l.useEffect(()=>{d("company_id",s.id),d("consolidated_id",r)},[s,r,d]);const x=o=>{o.preventDefault(),m(route("consolidated.deleteCompany",{id:c.company_id}),{onSuccess:()=>{p(),i(!1),a&&a(!1)},onError:()=>{i(!0)}})};return e.jsx("div",{children:e.jsx(h,{open:u,onOpenChange:o=>{i(o),a&&a(o)},children:e.jsxs(D,{className:"sm:max-w-[425px]",children:[e.jsxs(y,{children:[e.jsx(E,{children:"Eliminar Empresa"}),e.jsxs(g,{className:"text-justify",children:["¿Está seguro de que desea eliminar la empresa ",e.jsx("strong",{children:s.nombre})," (RUC: ",e.jsx("strong",{children:s.ruc}),") del consolidado? Esta acción no se puede deshacer. Además, se eliminarán los datos subidos de esta empresa para este mes y año del consolidado y tendrás que reconsolidar para ver los cambios en los archivos Excel en la vista principal de consolidados."]})]}),e.jsx("form",{onSubmit:x,className:"space-y-3",method:"post",action:route("consolidated.deleteCompany",{id:c.company_id}),children:e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsxs(j,{type:"submit",className:"mt-2",disabled:n,children:[n&&e.jsx(b,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{B as default};
