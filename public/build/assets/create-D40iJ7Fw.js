import{K as b,m as _,r as C,j as e}from"./app-CV6a6mm1.js";import{I as n}from"./input-error-nj8MuEad.js";import{B as p}from"./button-DjbRsOcY.js";import{D as f,a as v,b as y,c as N,d as S,e as D}from"./dialog-CgE3g3ZL.js";import{I as d}from"./input-Dub2Tjo1.js";import{L as c}from"./label-DJ9dd0QB.js";import{S as I,a as T,b as E,c as F,d as L,e as q,f as w}from"./select-CPjFqrFy.js";import{L as O}from"./loader-circle-CjytvGvM.js";import"./utils-BR1kMNAO.js";import"./index-C4rkPnUf.js";import"./index-CBVOTD8x.js";import"./index-B4q_2C1R.js";import"./index-BrYhDW_H.js";import"./index-CxV0Uy5l.js";import"./index-BA9CQx66.js";import"./index-D7RE4nyV.js";import"./check-GLyWn2aH.js";function Z(){const{contractorCompanyTypes:u,flash:a}=b().props,{data:t,setData:o,post:x,processing:r,errors:i,reset:g}=_({name:"",business_name:"",ruc_number:"",contractor_company_type_id:""}),[h,l]=C.useState(!1),j=s=>{s.preventDefault(),x(route("contractor.store"),{onSuccess:m=>{g(),l(!1),console.log("Solicitud de creación exitosa:",m)},onError:m=>{l(!0),console.log("Errores en la solicitud de creación:",m)}})};return e.jsxs("div",{children:[(a==null?void 0:a.success)&&e.jsx("div",{className:"mb-4 text-green-600",children:a.success}),e.jsxs(f,{open:h,onOpenChange:l,children:[e.jsx("div",{className:"flex justify-start",children:e.jsx(v,{asChild:!0,children:e.jsx(p,{className:"inline-block px-4 py-2",children:"Agregar Contratista"})})}),e.jsxs(y,{className:"sm:max-w-[425px]",children:[e.jsxs(N,{children:[e.jsx(S,{children:"Agregar Contratista"}),e.jsx(D,{children:"Complete los campos para agregar un nuevo contratista."})]}),e.jsxs("form",{onSubmit:j,className:"space-y-3",method:"post",action:route("contractor.store"),children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"name",children:"Nombre"}),e.jsx(d,{id:"name",type:"text",required:!0,autoFocus:!0,value:t.name,onChange:s=>o("name",s.target.value),disabled:r,placeholder:"Nombre"}),e.jsx(n,{message:i.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"business_name",children:"Nombre Comercial"}),e.jsx(d,{id:"business_name",type:"text",required:!0,value:t.business_name,onChange:s=>o("business_name",s.target.value),disabled:r,placeholder:"Nombre Comercial"}),e.jsx(n,{message:i.business_name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"ruc_number",children:"Número de RUC"}),e.jsx(d,{id:"ruc_number",type:"text",required:!0,value:t.ruc_number,onChange:s=>o("ruc_number",s.target.value),disabled:r,placeholder:"Número de RUC"}),e.jsx(n,{message:i.ruc_number})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"contractor_company_type_id",children:"Tipo de Cliente"}),e.jsxs(I,{onValueChange:s=>o("contractor_company_type_id",s),value:t.contractor_company_type_id,children:[e.jsx(T,{children:e.jsx(E,{placeholder:"Seleccione un tipo de cliente"})}),e.jsx(F,{children:e.jsxs(L,{children:[e.jsx(q,{children:"Tipos de Cliente"}),u.map(s=>e.jsx(w,{value:String(s.id),children:s.name},s.id))]})})]}),e.jsx(n,{message:i.contractor_company_type_id})]}),e.jsxs(p,{type:"submit",className:"mt-2 w-full",disabled:r,children:[r&&e.jsx(O,{className:"h-4 w-4 animate-spin"}),"Guardar"]})]})]})]})]})}export{Z as default};
