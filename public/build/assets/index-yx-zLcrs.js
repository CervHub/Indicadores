import{r as l,j as C,U as m}from"./app-B1_KnvdL.js";import{e as j,c as O,f as N}from"./index-B0b4fhsK.js";var E=l.forwardRef((e,t)=>{const{children:o,...r}=e,n=l.Children.toArray(o),s=n.find(w);if(s){const i=s.props.children,u=n.map(x=>x===s?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:x);return C.jsx(S,{...r,ref:t,children:l.isValidElement(i)?l.cloneElement(i,void 0,u):null})}return C.jsx(S,{...r,ref:t,children:o})});E.displayName="Slot";var S=l.forwardRef((e,t)=>{const{children:o,...r}=e;if(l.isValidElement(o)){const n=T(o),s=D(r,o.props);return o.type!==l.Fragment&&(s.ref=t?j(t,n):n),l.cloneElement(o,s)}return l.Children.count(o)>1?l.Children.only(null):null});S.displayName="SlotClone";var P=({children:e})=>C.jsx(C.Fragment,{children:e});function w(e){return l.isValidElement(e)&&e.type===P}function D(e,t){const o={...t};for(const r in t){const n=e[r],s=t[r];/^on[A-Z]/.test(r)?n&&s?o[r]=(...u)=>{s(...u),n(...u)}:n&&(o[r]=n):r==="style"?o[r]={...n,...s}:r==="className"&&(o[r]=[n,s].filter(Boolean).join(" "))}return{...e,...o}}function T(e){var r,n;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}function W(e){const t=e+"CollectionProvider",[o,r]=O(t),[n,s]=o(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:c,children:R}=p,a=m.useRef(null),f=m.useRef(new Map).current;return C.jsx(n,{scope:c,itemMap:f,collectionRef:a,children:R})};i.displayName=t;const u=e+"CollectionSlot",x=m.forwardRef((p,c)=>{const{scope:R,children:a}=p,f=s(u,R),d=N(c,f.collectionRef);return C.jsx(E,{ref:d,children:a})});x.displayName=u;const g=e+"CollectionItemSlot",h="data-radix-collection-item",v=m.forwardRef((p,c)=>{const{scope:R,children:a,...f}=p,d=m.useRef(null),M=N(c,d),y=s(g,R);return m.useEffect(()=>(y.itemMap.set(d,{ref:d,...f}),()=>void y.itemMap.delete(d))),C.jsx(E,{[h]:"",ref:M,children:a})});v.displayName=g;function A(p){const c=s(e+"CollectionConsumer",p);return m.useCallback(()=>{const a=c.collectionRef.current;if(!a)return[];const f=Array.from(a.querySelectorAll(`[${h}]`));return Array.from(c.itemMap.values()).sort((y,I)=>f.indexOf(y.ref.current)-f.indexOf(I.ref.current))},[c.collectionRef,c.itemMap])}return[{Provider:i,Slot:x,ItemSlot:v},A,r]}var b=l.createContext(void 0);function L(e){const t=l.useContext(b);return e||t||"ltr"}export{W as c,L as u};
