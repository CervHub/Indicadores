import{j as e,r as l,K as D,L as b}from"./app-Cn-5C3ys.js";import{c as N,B as n}from"./button-BfsQPnlH.js";import{A as S}from"./arrow-up-down-CYqKookl.js";import{E as y}from"./eye-BsT27t5T.js";import{S as O,C as R}from"./square-pen-BxfFJLUt.js";import{u as I,T as M,a as T,b as h,c as k,f as j,d as P,e as f,g as E,h as F,i as A,j as V}from"./table-CyReciiW.js";import{I as B}from"./input-Lnzueksd.js";import{A as H}from"./app-layout-CfQxCGck.js";import K from"./create-B54KlSI9.js";import L from"./delete-BDYBKTVp.js";import z from"./edit-CeVs6Tet.js";import G from"./activate-C4RNPysA.js";import U from"./view-CkNXlHis.js";import"./utils-U4jazdRL.js";import"./index-D8D9BEB_.js";import"./index-Brub5Wp-.js";import"./index-DPkw7taS.js";import"./index-D9Yd4Kyp.js";import"./index-DRpHiFIR.js";import"./index-j-wEJqs7.js";import"./index-B6_ETsjh.js";import"./chevrons-up-down-fC_fTfbR.js";import"./app-logo-icon-D4U2Ozxf.js";import"./input-error-BkfFglKD.js";import"./dialog-D3OTCAka.js";import"./label-BzIOxSAd.js";import"./loader-circle-ubJ9Lzej.js";import"./refresh-cw-HZiEa3MV.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],$=N("Trash",_),q=t=>[{accessorKey:"nombre",header:({column:i})=>e.jsxs(n,{variant:"ghost",onClick:()=>i.toggleSorting(i.getIsSorted()==="asc"),children:["Nombre",e.jsx(S,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"ruc",header:"RUC"},{accessorKey:"email",header:"Email"},{id:"actions",cell:({row:i})=>{const o=i.original;return e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>t(o.id,"detail"),children:e.jsx(y,{className:"h-4 w-4"})}),e.jsx(n,{variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>t(o.id,"edit"),children:e.jsx(O,{className:"h-4 w-4"})}),o.estado==="0"?e.jsx(n,{variant:"success",className:"h-8 w-8 p-0",onClick:()=>t(o.id,"activate"),children:e.jsx(R,{className:"h-4 w-4"})}):e.jsx(n,{variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>t(o.id,"delete"),children:e.jsx($,{className:"h-4 w-4"})})]})}}];function J({columns:t,data:i}){var d;const[o,p]=l.useState([]),[g,c]=l.useState(""),r=I({data:i,columns:t,getCoreRowModel:V(),getPaginationRowModel:A(),onSortingChange:p,getSortedRowModel:F(),onGlobalFilterChange:c,getFilteredRowModel:E(),state:{sorting:o,globalFilter:g}});return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center py-4",children:e.jsx(B,{placeholder:"Filter by any column...",value:g,onChange:a=>c(a.target.value),className:"max-w-sm"})}),e.jsx("div",{className:"rounded-md border grid grid-cols-1",children:e.jsxs(M,{children:[e.jsx(T,{children:r.getHeaderGroups().map(a=>e.jsx(h,{children:a.headers.map(s=>e.jsx(k,{children:s.isPlaceholder?null:j(s.column.columnDef.header,s.getContext())},s.id))},a.id))}),e.jsx(P,{children:(d=r.getRowModel().rows)!=null&&d.length?r.getRowModel().rows.map(a=>e.jsx(h,{"data-state":a.getIsSelected()&&"selected",children:a.getVisibleCells().map(s=>e.jsx(f,{children:j(s.column.columnDef.cell,s.getContext())},s.id))},a.id)):e.jsx(h,{children:e.jsx(f,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>r.previousPage(),disabled:!r.getCanPreviousPage(),children:"Previous"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>r.nextPage(),disabled:!r.getCanNextPage(),children:"Next"})]})]})}const Q=[{title:"Contratistas",href:"/contractors"}];function Ne(){const[t,i]=l.useState(null),[o,p]=l.useState(!1),[g,c]=l.useState(!1),[r,d]=l.useState(!1),[a,s]=l.useState(!1),{contractors:x}=D().props,C=l.useCallback((u,m)=>{console.log(`Action: ${m}, ID: ${u}`);const v=x.find(w=>w.id===u)||null;i(v),m==="edit"?c(!0):m==="delete"?p(!0):m==="activate"?d(!0):m==="detail"&&s(!0)},[x]);return e.jsxs(H,{breadcrumbs:Q,children:[e.jsx(b,{title:"Contratistas"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(K,{}),e.jsx(J,{columns:q(C),data:x})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx(z,{contractor:t,isDialogOpen:g,setIsDialogOpen:c}),e.jsx(L,{isDialogOpen:o,setIsDialogOpen:p,contractor:t}),e.jsx(G,{isDialogOpen:r,setIsDialogOpen:d,contractor:t}),e.jsx(U,{isDialogOpen:a,setIsDialogOpen:s,contractor:t})]})]})}export{Ne as default};
