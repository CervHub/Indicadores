import{m as C,r as j,j as e}from"./app-CDq8K-wc.js";import{I as l}from"./input-error-DtdzwDAh.js";import{B as h}from"./button-CNmb_yTe.js";import{D,a as N,b as E,c as F,d as I,e as y}from"./dialog-SkRTAJI8.js";import{I as i}from"./input-DJmoIctH.js";import{L as t}from"./label-DQXJEm-Q.js";import{t as p}from"./index-Bz_C7NF3.js";import{L}from"./loader-circle-B1odZMxI.js";import"./utils-Dxu7ruf7.js";import"./index-p_U-oZ3m.js";import"./index-B65IYVem.js";import"./index-iJmeFYDn.js";function J({isOpen:d=!1,onOpenChange:n}){const{data:a,setData:r,post:u,processing:g,errors:o,reset:f}=C({doi:"",email:"",nombres:"",apellidos:"",telefono:"",cargo:""}),[v,m]=j.useState(d);j.useEffect(()=>{m(d)},[d]);const b=s=>{s.preventDefault(),u(route("contrata.personal.store"),{onSuccess:x=>{const c=x.props.flash;c.success&&(p.success(c.success),m(!1),f(),n&&n(!1)),c.error&&p.error(c.error)},onError:x=>{m(!0),p.error("Ocurrió un error al crear la persona.")}})};return e.jsx("div",{children:e.jsxs(D,{open:v,onOpenChange:s=>{m(s),n&&n(s)},children:[e.jsx("div",{className:"flex justify-start",children:e.jsx(N,{asChild:!0,children:e.jsx(h,{className:"inline-block px-4 py-2",children:"Crear Persona"})})}),e.jsxs(E,{className:"sm:max-w-[425px]",children:[e.jsxs(F,{children:[e.jsx(I,{children:"Crear Persona"}),e.jsx(y,{children:"Complete los campos para crear una nueva persona."})]}),e.jsxs("form",{onSubmit:b,className:"space-y-3",method:"post",action:route("contrata.personal.store"),children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"doi",children:"DOI"}),e.jsx(i,{id:"doi",value:a.doi,onChange:s=>r("doi",s.target.value)}),e.jsx(l,{message:o.doi})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(i,{id:"email",type:"email",value:a.email,onChange:s=>r("email",s.target.value)}),e.jsx(l,{message:o.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"nombres",children:"Nombres"}),e.jsx(i,{id:"nombres",value:a.nombres,onChange:s=>r("nombres",s.target.value)}),e.jsx(l,{message:o.nombres})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"apellidos",children:"Apellidos"}),e.jsx(i,{id:"apellidos",value:a.apellidos,onChange:s=>r("apellidos",s.target.value)}),e.jsx(l,{message:o.apellidos})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"telefono",children:"Teléfono"}),e.jsx(i,{id:"telefono",value:a.telefono,onChange:s=>r("telefono",s.target.value)}),e.jsx(l,{message:o.telefono})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"cargo",children:"Cargo"}),e.jsx(i,{id:"cargo",value:a.cargo,onChange:s=>r("cargo",s.target.value)}),e.jsx(l,{message:o.cargo})]}),e.jsxs(h,{type:"submit",className:"mt-2",disabled:g,children:[g&&e.jsx(L,{className:"h-4 w-4 animate-spin"}),"Crear"]})]})]})]})})}export{J as default};
