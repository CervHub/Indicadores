import{m as N,r as d,j as e}from"./app-CDXy3SBE.js";import{I as i}from"./input-error-wDQgvC5o.js";import{B as j}from"./button-BWENKPYs.js";import{D as F,a as E,b as I,c as y,d as L,e as S}from"./dialog-B-5PyXvn.js";import{I as l}from"./input-BU5rwtW1.js";import{L as t}from"./label-CtGGAro0.js";import{t as g}from"./index-BXJU_opb.js";import{L as P}from"./loader-circle-BaqxduYx.js";import"./utils-CISCwvQU.js";import"./index-Gh2VXSfd.js";import"./createLucideIcon-Ck2WDkhH.js";import"./index-Dh1d63z8.js";import"./index-DkteYaeJ.js";function M({isOpen:p=!1,onOpenChange:m}){const{data:a,setData:r,post:h,processing:x,errors:o,reset:f}=N({doi:"",email:"",nombres:"",apellidos:"",telefono:"",cargo:""}),[v,n]=d.useState(p),[b,C]=d.useState(!1);d.useEffect(()=>{n(p)},[p]),d.useEffect(()=>{C(a.doi.trim()!==""&&a.nombres.trim()!==""&&a.apellidos.trim()!=="")},[a.doi,a.nombres,a.apellidos]);const D=s=>{s.preventDefault(),h(route("contrata.personal.store"),{onSuccess:u=>{const c=u.props.flash;c.success&&(g.success(c.success),n(!1),f(),m&&m(!1)),c.error&&g.error(c.error)},onError:u=>{n(!0),g.error("Ocurrió un error al crear la persona.")}})};return e.jsx("div",{children:e.jsxs(F,{open:v,onOpenChange:s=>{n(s),m&&m(s)},children:[e.jsx("div",{className:"flex justify-start",children:e.jsx(E,{asChild:!0,children:e.jsx(j,{className:"inline-block px-4 py-2",children:"Crear Persona"})})}),e.jsxs(I,{className:"sm:max-w-[425px]",children:[e.jsxs(y,{children:[e.jsx(L,{children:"Crear Persona"}),e.jsx(S,{children:"Complete los campos para crear una nueva persona."})]}),e.jsxs("form",{onSubmit:D,className:"space-y-3",method:"post",action:route("contrata.personal.store"),children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"doi",children:"DOI"}),e.jsx(l,{id:"doi",value:a.doi,onChange:s=>r("doi",s.target.value)}),e.jsx(i,{message:o.doi})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",value:a.email,onChange:s=>r("email",s.target.value)}),e.jsx(i,{message:o.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"nombres",children:"Nombres"}),e.jsx(l,{id:"nombres",value:a.nombres,onChange:s=>r("nombres",s.target.value)}),e.jsx(i,{message:o.nombres})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"apellidos",children:"Apellidos"}),e.jsx(l,{id:"apellidos",value:a.apellidos,onChange:s=>r("apellidos",s.target.value)}),e.jsx(i,{message:o.apellidos})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"telefono",children:"Teléfono"}),e.jsx(l,{id:"telefono",value:a.telefono,onChange:s=>r("telefono",s.target.value)}),e.jsx(i,{message:o.telefono})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"cargo",children:"Cargo"}),e.jsx(l,{id:"cargo",value:a.cargo,onChange:s=>r("cargo",s.target.value)}),e.jsx(i,{message:o.cargo})]}),e.jsxs(j,{type:"submit",className:"mt-2",disabled:x||!b,children:[x&&e.jsx(P,{className:"h-4 w-4 animate-spin"}),"Crear"]})]})]})]})})}export{M as default};
