import{m as D,r as a,j as s}from"./app-DPplMvhu.js";import{B as E}from"./button-Dt95aQe1.js";import{D as g,b,c as y,d as N,e as S}from"./dialog-4tJnNN6e.js";import{t as n}from"./index-BkK3jN3b.js";import{L as v}from"./loader-circle-HPmQaxTl.js";import"./index-CFUEoIJx.js";import"./utils-DU6Hee-i.js";import"./index-hSEKTv2T.js";import"./index-C8ne0jlX.js";import"./index-CK0sBCVJ.js";function T({isOpen:c=!1,onOpenChange:o,selectedItem:r}){const{data:i,setData:d,delete:u,processing:m}=D({id:r.id}),[f,e]=a.useState(c),[x,j]=a.useState(!1);a.useEffect(()=>{j(i.id!=="0")},[i]),a.useEffect(()=>{e(c)},[c]),a.useEffect(()=>{d("id",r.id)},[r,d]);const h=t=>{t.preventDefault(),u(route("contrata.personal.destroy",{personal:i.id}),{onSuccess:p=>{const l=p.props.flash;l.success&&(n.success(l.success),e(!1),o&&o(!1)),l.error&&(n.error(l.error),e(!0))},onError:p=>{e(!0),n.error("Ocurrió un error al eliminar el personal.")}})};return s.jsx("div",{children:s.jsx(g,{open:f,onOpenChange:t=>{e(t),o&&o(t)},children:s.jsxs(b,{className:"sm:max-w-[425px]",children:[s.jsxs(y,{children:[s.jsx(N,{children:"Eliminar Personal"}),s.jsxs(S,{children:["¿Está seguro de que desea eliminar a ",r.nombres," ",r.apellidos,"? Esta acción no se puede deshacer."]})]}),s.jsx("form",{onSubmit:h,className:"space-y-3",method:"delete",action:route("contrata.personal.destroy",{personal:i.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(E,{type:"submit",className:"mt-2",disabled:m||!x,children:[m&&s.jsx(v,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{T as default};
