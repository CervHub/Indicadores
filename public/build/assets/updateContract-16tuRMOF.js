import{m as j,r as C,j as e}from"./app-D6oo4aiI.js";import{I as u}from"./input-error-DIVqv6jZ.js";import{B as g}from"./button-B_5QTdvO.js";import{D as A,b as I,c as N,d as v,e as D}from"./dialog-BQBvrB5h.js";import{I as E}from"./input-D70_QrOi.js";import{L as p}from"./label-dzqnh3AS.js";import{t as i}from"./index-BpdHWgbY.js";import{S,a as U,b as L,c as b,d as O,e as R,f as o}from"./select-ByT8ja3r.js";import{L as F}from"./loader-circle-DGqUbdRF.js";import"./utils-CISCwvQU.js";import"./index-CuTWOldI.js";import"./createLucideIcon-CIm9F9Xe.js";import"./index-b278Kwfv.js";import"./index-SSGtsAuw.js";import"./index-I7Cix45V.js";import"./index-C9T2e_eU.js";import"./index-QDsssAxq.js";import"./check-BJ-hXd7Y.js";function Z({isDialogOpen:d,setIsDialogOpen:l}){const{data:r,setData:n,post:f,processing:c,errors:m,reset:x}=j({file:null,uea:""}),t=C.useRef(null),h=a=>{if(a.preventDefault(),!r.file||!r.uea){i.error("Por favor, seleccione un archivo y una UEA antes de enviar.");return}const s=new FormData;s.append("file",r.file),s.append("uea",r.uea),f(route("consolidated.updateFormatContract"),{data:s,onSuccess:()=>{l(!1),x(),t.current&&(t.current.value=""),i.success("El formato de contratistas se actualizó correctamente.")},onError:()=>{i.error("Ocurrió un error al intentar actualizar el formato.")}})};return e.jsx(A,{open:d,onOpenChange:a=>l(a),children:e.jsxs(I,{className:"sm:max-w-[425px]",children:[e.jsxs(N,{children:[e.jsx(v,{children:"Actualizar Formato de Contratistas"}),e.jsx(D,{children:"Seleccione un archivo y una UEA para actualizar el formato de contratistas."})]}),e.jsxs("form",{onSubmit:h,className:"space-y-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"uea",children:"UEA"}),e.jsxs(S,{onValueChange:a=>n("uea",a),value:r.uea,children:[e.jsx(U,{children:e.jsx(L,{placeholder:"Seleccione una UEA"})}),e.jsx(b,{children:e.jsxs(O,{children:[e.jsx(R,{children:"UEA"}),e.jsx(o,{value:"ACUMULACION",children:"ACUMULACIÓN"}),e.jsx(o,{value:"CONCENTRADORA",children:"CONCENTRADORA"}),e.jsx(o,{value:"LIXIVIACION",children:"LIXIVIACIÓN"})]})})]}),e.jsx(u,{message:m.uea})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"file",children:"Archivo"}),e.jsx(E,{type:"file",id:"file",required:!0,accept:".xlsx,.xls",ref:t,onChange:a=>n("file",a.target.files?a.target.files[0]:null)}),e.jsx(u,{message:m.file})]}),e.jsxs(g,{ref:t,type:"submit",className:"mt-2",disabled:c||!r.file||!r.uea,children:[c&&e.jsx(F,{className:"h-4 w-4 animate-spin"}),"Actualizar"]})]})]})})}export{Z as default};
