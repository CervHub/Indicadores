import{m as E,r as o,j as s}from"./app-PNb_JBj4.js";import{B as h}from"./button-HZk2Zof5.js";import{D as g,b,c as y,d as N,e as S}from"./dialog-D0YsQINH.js";import{t as n}from"./index-DgNyXlWA.js";import{L as v}from"./loader-circle-DMmFKltu.js";import"./utils-Co_qxGNv.js";import"./index-DyMDJnG2.js";import"./createLucideIcon-D9N2Bwd3.js";import"./index-CgoFvU8A.js";import"./index-DONz0f-x.js";function T({isOpen:c=!1,onOpenChange:i,selectedItem:e}){const{data:t,setData:d,delete:u,processing:m}=E({id:e.id}),[f,a]=o.useState(c),[x,j]=o.useState(!1);o.useEffect(()=>{j(t.id!==0)},[t]),o.useEffect(()=>{a(c)},[c]),o.useEffect(()=>{d("id",e.id)},[e,d]);const D=l=>{l.preventDefault(),u(route("contrata.personal.destroy",{personal:t.id}),{onSuccess:p=>{const r=p.props.flash;r!=null&&r.success&&(n.success(r.success),a(!1),i&&i(!1)),r!=null&&r.error&&(n.error(r.error),a(!0))},onError:p=>{a(!0),n.error("Ocurrió un error al eliminar el personal.")}})};return s.jsx("div",{children:s.jsx(g,{open:f,onOpenChange:l=>{a(l),i&&i(l)},children:s.jsxs(b,{className:"sm:max-w-[425px]",children:[s.jsxs(y,{children:[s.jsx(N,{children:"Eliminar Personal"}),s.jsxs(S,{children:["¿Está seguro de que desea eliminar a ",e.nombres," ",e.apellidos,"? Esta acción no se puede deshacer."]})]}),s.jsx("form",{onSubmit:D,className:"space-y-3",method:"delete",action:route("contrata.personal.destroy",{personal:t.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(h,{type:"submit",className:"mt-2",disabled:m||!x,children:[m&&s.jsx(v,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{T as default};
