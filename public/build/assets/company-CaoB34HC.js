import{m as D,r as d,j as e}from"./app-CkX-sCCf.js";import{B as y}from"./button-Bw2Xdp6E.js";import{D as g,b as E,c as b,d as N,e as C}from"./dialog-CQ0eMQJ3.js";import{t as m}from"./index-uPTyyJTB.js";import{L as S}from"./loader-circle-B0rPJdrL.js";import"./utils-Co_qxGNv.js";import"./index-C0Urlq2e.js";import"./createLucideIcon-Cux2gun-.js";import"./index-BbjDzo9d.js";import"./index-ItJPPwpU.js";function T({isOpen:i=!1,onOpenChange:a,company:s,consolidated_id:l}){const{data:n,setData:c,delete:u,processing:p,reset:f}=D({company_id:s.id,consolidated_id:l}),[x,r]=d.useState(i);d.useEffect(()=>{r(i)},[i]),d.useEffect(()=>{c("company_id",s.id),c("consolidated_id",l)},[s,l,c]);const j=o=>{o.preventDefault(),u(route("consolidated.deleteCompany",{id:n.company_id}),{onSuccess:h=>{const t=h.props.flash;t.success&&(m.success(t.success),r(!1),f(),a&&a(!1)),t.error&&(r(!1),m.error(t.error))},onError:()=>{r(!0),m.error("Ocurrió un error al eliminar la empresa del consolidado.")}})};return e.jsx(g,{open:x,onOpenChange:o=>{r(o),a&&a(o)},children:e.jsxs(E,{className:"sm:max-w-[425px]",children:[e.jsxs(b,{children:[e.jsx(N,{children:"Eliminar Empresa"}),e.jsxs(C,{className:"text-justify",children:["¿Está seguro de que desea eliminar la empresa ",e.jsx("strong",{children:s.nombre})," (RUC: ",e.jsx("strong",{children:s.ruc}),") del consolidado?",e.jsx("hr",{}),"Esta acción no se puede deshacer y se eliminarán los datos subidos de esta empresa para este mes y año del consolidado."]})]}),e.jsx("form",{onSubmit:j,className:"space-y-3",method:"post",action:route("consolidated.deleteCompany",{id:n.company_id}),children:e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsxs(y,{type:"submit",className:"mt-2",disabled:p,children:[p&&e.jsx(S,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})}export{T as default};
