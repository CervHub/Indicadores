import{m as h,r as e,j as s}from"./app-GVpGJeU7.js";import{B as D}from"./button-BHPTtTdP.js";import{D as g,b as E,c as b,d as N,e as S}from"./dialog-Bdq0f4Ih.js";import{t as n}from"./index-DQ13vxLF.js";import{L as y}from"./loader-circle-7TSR6vT2.js";import"./utils-qLzneZb4.js";import"./index-n7sBKrK3.js";import"./createLucideIcon-CFMFBQne.js";import"./index-CwCzXZA7.js";import"./index-CZ6M3Ocn.js";function T({isOpen:l=!1,onOpenChange:t,selectedItem:r}){const{data:o,setData:m,put:d,processing:p}=h({id:r.id}),[f,a]=e.useState(l),[x,j]=e.useState(!1);e.useEffect(()=>{j(o.id!=="0")},[o]),e.useEffect(()=>{a(l)},[l]),e.useEffect(()=>{m("id",r.id)},[r,m]);const v=i=>{i.preventDefault(),d(route("contrata.personal.activate",{personal:o.id}),{onSuccess:u=>{const c=u.props.flash;c.success&&(n.success(c.success),a(!1),t&&t(!1)),c.error&&(n.error(c.error),a(!0))},onError:u=>{a(!0),n.error("Ocurrió un error al activar al personal. Por favor, inténtelo de nuevo.")}})};return s.jsx("div",{children:s.jsx(g,{open:f,onOpenChange:i=>{a(i),t&&t(i)},children:s.jsxs(E,{className:"sm:max-w-[425px]",children:[s.jsxs(b,{children:[s.jsx(N,{children:"Activar Personal"}),s.jsxs(S,{children:["¿Está seguro de que desea activar a ",r.nombres," ",r.apellidos,"?"]})]}),s.jsx("form",{onSubmit:v,className:"space-y-3",method:"put",action:route("contrata.personal.activate",{personal:o.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(D,{type:"submit",className:"mt-2",disabled:p||!x,children:[p&&s.jsx(y,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{T as default};
