import{m as f,r as l,j as r}from"./app-DPplMvhu.js";import{B as c}from"./button-Dt95aQe1.js";import{D as j,b,c as h,d as C,e as D,f as g}from"./dialog-4tJnNN6e.js";import{t as u}from"./index-BkK3jN3b.js";import{L as k}from"./loader-circle-HPmQaxTl.js";import"./index-CFUEoIJx.js";import"./utils-DU6Hee-i.js";import"./index-hSEKTv2T.js";import"./index-C8ne0jlX.js";import"./index-CK0sBCVJ.js";function F({isDialogOpen:d,setIsDialogOpen:s,vehicle:a,companyId:o}){const{data:n,setData:t,post:i,processing:e,reset:m}=f({id:null,company_id:null});l.useEffect(()=>{t({id:(a==null?void 0:a.id)??null,company_id:o??null})},[a,o,t,m]);const p=l.useCallback(x=>{x.preventDefault(),i(route("vehicle.link"),{data:n,onSuccess:()=>{s(!1),u.success("Vehículo vinculado exitosamente.")},onError:()=>{u.error("Ocurrió un error al intentar vincular el vehículo.")}})},[i,s,n]);return r.jsx(j,{open:d,onOpenChange:s,children:r.jsxs(b,{className:"pb-3 sm:max-w-[350px]",children:[r.jsxs(h,{children:[r.jsx(C,{children:"Vincular Vehículo"}),r.jsxs(D,{children:["¿Está seguro que desea vincular el vehículo ",r.jsx("br",{})," ",r.jsx("b",{children:a.license_plate})," (",a.brand," ",a.model,")?"]})]}),r.jsxs(g,{children:[r.jsxs(c,{type:"button",variant:"default",onClick:p,disabled:e,children:[e&&r.jsx(k,{className:"h-4 w-4 animate-spin"}),"Vincular"]}),r.jsx(c,{type:"button",variant:"secondary",onClick:()=>s(!1),disabled:e,children:"Cancelar"})]})]})})}export{F as default};
