import{m as N,r as t,j as r}from"./app-CkX-sCCf.js";import{I as v}from"./input-error-VWZhSynO.js";import{B as u}from"./button-Bw2Xdp6E.js";import{D as E,a as I,b as y,c as L,d as S,e as F}from"./dialog-CQ0eMQJ3.js";import{I as G}from"./input-MjwaqtbJ.js";import{L as w}from"./label-B68sH3c7.js";import{t as n}from"./index-uPTyyJTB.js";import{L as B}from"./loader-circle-B0rPJdrL.js";import"./utils-Co_qxGNv.js";import"./index-C0Urlq2e.js";import"./createLucideIcon-Cux2gun-.js";import"./index-BbjDzo9d.js";import"./index-ItJPPwpU.js";function U({isOpen:i=!1,onOpenChange:a}){const{data:m,setData:f,post:x,processing:c,errors:g,reset:l,clearErrors:d}=N({nombre:""}),[j,o]=t.useState(i),[b,h]=t.useState(!1);t.useEffect(()=>{o(i)},[i]),t.useEffect(()=>{h(m.nombre.trim()!=="")},[m.nombre]);const D=s=>{o(s),a&&a(s),s||(l(),d())},C=s=>{s.preventDefault(),x(route("admin.management.store"),{onSuccess:p=>{const e=p.props.flash;e!=null&&e.success&&(n.success(e.success),l(),d(),o(!1),a&&a(!1)),e!=null&&e.error&&n.error(e.error)},onError:p=>{o(!0),n.error("OcurriÃ³ un error al crear la gerencia.")}})};return r.jsx("div",{children:r.jsxs(E,{open:j,onOpenChange:D,children:[r.jsx("div",{className:"flex justify-start",children:r.jsx(I,{asChild:!0,children:r.jsx(u,{className:"inline-block px-4 py-2",children:"Crear Gerencia"})})}),r.jsxs(y,{className:"sm:max-w-[425px]",children:[r.jsxs(L,{children:[r.jsx(S,{children:"Crear Gerencia"}),r.jsx(F,{children:"Complete el campo para crear una nueva gerencia."})]}),r.jsxs("form",{onSubmit:C,className:"space-y-3",method:"post",action:route("admin.management.store"),children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(w,{htmlFor:"nombre",children:"Nombre de la Gerencia *"}),r.jsx(G,{id:"nombre",value:m.nombre,onChange:s=>f("nombre",s.target.value),required:!0}),r.jsx(v,{message:g.nombre})]}),r.jsxs(u,{type:"submit",className:"mt-2",disabled:c||!b,children:[c&&r.jsx(B,{className:"h-4 w-4 animate-spin"}),"Crear"]})]})]})]})})}export{U as default};
