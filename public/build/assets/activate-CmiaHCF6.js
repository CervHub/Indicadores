import{m as h,r as e,j as s}from"./app-BM5UaoLz.js";import{B as D}from"./button-B4jGflLp.js";import{D as g,b as E,c as b,d as N,e as S}from"./dialog-CwBL4gBr.js";import{t as n}from"./index-CIInWgbm.js";import{L as y}from"./loader-circle-Bak669U4.js";import"./utils-Dxu7ruf7.js";import"./index-DNhIbKYH.js";import"./index-I9jujFTw.js";function H({isOpen:l=!1,onOpenChange:t,selectedItem:a}){const{data:o,setData:u,put:f,processing:d}=h({id:a.id}),[p,r]=e.useState(l),[x,j]=e.useState(!1);e.useEffect(()=>{j(o.id!=="0")},[o]),e.useEffect(()=>{r(l)},[l]),e.useEffect(()=>{u("id",a.id)},[a,u]);const v=i=>{i.preventDefault(),f(route("contrata.personal.activate",{personal:o.id}),{onSuccess:m=>{const c=m.props.flash;c.success&&(n.success(c.success),r(!1),t&&t(!1)),c.error&&(n.error(c.error),r(!0))},onError:m=>{r(!0),n.error("Ocurrió un error al activar al personal. Por favor, inténtelo de nuevo.")}})};return s.jsx("div",{children:s.jsx(g,{open:p,onOpenChange:i=>{r(i),t&&t(i)},children:s.jsxs(E,{className:"sm:max-w-[425px]",children:[s.jsxs(b,{children:[s.jsx(N,{children:"Activar Personal"}),s.jsxs(S,{children:["¿Está seguro de que desea activar a ",a.nombres," ",a.apellidos,"?"]})]}),s.jsx("form",{onSubmit:v,className:"space-y-3",method:"put",action:route("contrata.personal.activate",{personal:o.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(D,{type:"submit",className:"mt-2",disabled:d||!x,children:[d&&s.jsx(y,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{H as default};
