import{m as j,r as a,j as s}from"./app-DFJY1BGy.js";import{B as D}from"./button-Bc6R-Kxb.js";import{D as g,b as E,c as y,d as b,e as N}from"./dialog-CXUySuDq.js";import{h as S,a as _}from"./handleFlashMessages-Cg6Fu_Zz.js";import{L as v}from"./loader-circle-D3ZXsUMK.js";import"./index-4Wby4sqP.js";import"./utils-gl1Fv5mo.js";import"./index-BhxNckzA.js";import"./index-DZKWfvhj.js";import"./index-VxwpWnFy.js";import"./index-BFxsZ1xd.js";function T({isOpen:l=!1,onOpenChange:r,selectedItem:e}){const{data:i,setData:d,delete:c,processing:n,reset:m}=j({id:e.user_id}),[u,t]=a.useState(l),[f,p]=a.useState(!1);a.useEffect(()=>{p(i.id!=="0")},[i]),a.useEffect(()=>{t(l)},[l]),a.useEffect(()=>{d("id",e.user_id)},[e,d]);const x=o=>{o.preventDefault(),c(route("contrata.roles.destroy",{id:i.id}),{onSuccess:h=>{_(h.props.flash),m(),t(!1),r&&r(!1)},onError:()=>{S(),t(!0)}})};return s.jsx("div",{children:s.jsx(g,{open:u,onOpenChange:o=>{t(o),r&&r(o)},children:s.jsxs(E,{className:"sm:max-w-[425px]",children:[s.jsxs(y,{children:[s.jsx(b,{children:"Eliminar Rol"}),s.jsxs(N,{children:["¿Está seguro de que desea eliminar el rol de ",s.jsx("strong",{children:e.role_name})," asignado a ",s.jsx("strong",{children:e.user_name}),"? Esta acción no se puede deshacer."]})]}),s.jsx("form",{onSubmit:x,className:"space-y-3",method:"delete",action:route("contrata.roles.destroy",{id:i.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(D,{type:"submit",className:"mt-2",disabled:n||!f,children:[n&&s.jsx(v,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{T as default};
