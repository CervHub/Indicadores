import{m as f,r as l,j as r}from"./app-Bmcdr3rY.js";import{B as c}from"./button-DTKbtbr3.js";import{D as j,b,c as h,d as C,e as D,f as g}from"./dialog-DRTvkdgv.js";import{t as u}from"./index-C5uH-olr.js";import{L as k}from"./loader-circle-C5lOWTxt.js";import"./index-F1UbrP38.js";import"./utils-CISCwvQU.js";import"./index-CxZfpC1a.js";import"./createLucideIcon-BS7UES9g.js";import"./index-CKnKVnvB.js";import"./index-3hBHLDdS.js";function H({isDialogOpen:d,setIsDialogOpen:s,vehicle:a,companyId:e}){const{data:n,setData:t,post:i,processing:o,reset:m}=f({id:null,company_id:null});l.useEffect(()=>{t({id:(a==null?void 0:a.id)??null,company_id:e??null})},[a,e,t,m]);const p=l.useCallback(x=>{x.preventDefault(),i(route("vehicle.link"),{data:n,onSuccess:()=>{s(!1),u.success("Vehículo vinculado exitosamente.")},onError:()=>{u.error("Ocurrió un error al intentar vincular el vehículo.")}})},[i,s,n]);return r.jsx(j,{open:d,onOpenChange:s,children:r.jsxs(b,{className:"pb-3 sm:max-w-[350px]",children:[r.jsxs(h,{children:[r.jsx(C,{children:"Vincular Vehículo"}),r.jsxs(D,{children:["¿Está seguro que desea vincular el vehículo ",r.jsx("br",{})," ",r.jsx("b",{children:a.license_plate})," (",a.brand," ",a.model,")?"]})]}),r.jsxs(g,{children:[r.jsxs(c,{type:"button",variant:"default",onClick:p,disabled:o,children:[o&&r.jsx(k,{className:"h-4 w-4 animate-spin"}),"Vincular"]}),r.jsx(c,{type:"button",variant:"secondary",onClick:()=>s(!1),disabled:o,children:"Cancelar"})]})]})})}export{H as default};
