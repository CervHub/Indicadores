import{K as u,j as s,L as y,r as p}from"./app-k-c3-IUX.js";function j(){const a=new Date,e=new Date(a);e.setMonth(a.getMonth()-1),e.getMonth()===a.getMonth()&&e.setDate(0);const l=[];let t=new Date(e),i=0;for(;t<=a;){const r=Math.floor(Math.random()*40)+10;i+=r,l.push({day:t.toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit"}),daily:r,accumulated:i}),t.setDate(t.getDate()+1)}return l}j();function N(){const[a,e]=p.useState(new Date);return p.useEffect(()=>{const l=setInterval(()=>e(new Date),1e3);return()=>clearInterval(l)},[]),s.jsxs("span",{className:"font-mono text-sm font-bold",style:{color:"#000"},children:[a.toLocaleDateString()," ",a.toLocaleTimeString()]})}function _(){const{vehicle:a,vehicleInspection:e,lastCompanyLink:l,company:t,allInspectionsHistory:i}=u().props;let r=a.code,c="",d="";t&&t.code&&l&&l.code&&(c=t.code,r=`${t.code}${l.code}`,d=t.nombre||"");const x=(a.license_plate||"").replace(/-/g,"");[(e==null?void 0:e["pre-use"])&&{tipo:e["pre-use"].tipo_inspeccion,realizado_por:e["pre-use"].realizado_por,fecha:e["pre-use"].created_at,vencimiento:e["pre-use"].vencimiento,estado:e["pre-use"].estado,observaciones:e["pre-use"].observaciones},(e==null?void 0:e.trimestral)&&{tipo:e.trimestral.tipo_inspeccion,realizado_por:e.trimestral.realizado_por,fecha:e.trimestral.created_at,vencimiento:e.trimestral.vencimiento,estado:e.trimestral.estado,observaciones:e.trimestral.observaciones},(e==null?void 0:e.semestral)&&{tipo:e.semestral.tipo_inspeccion,realizado_por:e.semestral.realizado_por,fecha:e.semestral.created_at,vencimiento:e.semestral.vencimiento,estado:e.semestral.estado,observaciones:e.semestral.observaciones},(e==null?void 0:e.anual)&&{tipo:e.anual.tipo_inspeccion,realizado_por:e.anual.realizado_por,fecha:e.anual.created_at,vencimiento:e.anual.vencimiento,estado:e.anual.estado,observaciones:e.anual.observaciones}].filter(Boolean);const g=["pre-use","trimestral","semestral","anual"],h={"pre-use":"Diaria Pre-Uso",trimestral:"Trimestral",semestral:"Semestral",anual:"Anual"},m=g.map(n=>{const o=(e==null?void 0:e[n])||{};return{tipo:o.tipo_inspeccion||h[n],realizado_por:o.realizado_por||"",fecha:o.created_at||"",vencimiento:o.vencimiento||"",estado:o.estado||"",observaciones:o.observaciones||""}}).some(n=>!n.estado||n.estado.toLowerCase()!=="aprobado"),f=m?"No Autorizado":"Autorizado",b=m?"bg-red-600 text-white":"bg-green-600 text-white";return s.jsxs(s.Fragment,{children:[s.jsx(y,{title:`Hoja de Vida: ${x}`}),s.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center py-8 px-2",children:s.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-xl shadow-2xl flex flex-col overflow-hidden print:shadow-none print:rounded-none print:bg-white",children:[s.jsx("div",{className:"flex flex-row items-center justify-between border-b px-8 py-4 bg-gray-100",children:s.jsxs("div",{className:"flex flex-row items-center gap-4 w-full",children:[s.jsx("div",{className:`px-3 py-1 rounded-full font-bold text-base ${b}`,style:{width:"fit-content",minWidth:90,textAlign:"center"},children:f}),s.jsx("div",{className:"ml-auto text-gray-600 text-sm",children:s.jsx(N,{})})]})}),s.jsx("div",{className:"px-8 py-6",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:[d&&s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50 col-span-2 md:col-span-2",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Empresa"}),s.jsxs("span",{className:"text-base font-bold text-gray-900",children:[d," ",s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",c,")"]})]})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Placa"}),s.jsx("span",{className:"text-2xl font-extrabold tracking-widest text-gray-800",children:x})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Código de Llamada"}),s.jsx("span",{className:"text-2xl font-extrabold tracking-widest text-gray-800",children:r})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Marca"}),s.jsx("span",{className:"text-base font-bold text-gray-900",children:a.brand})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Modelo"}),s.jsx("span",{className:"text-base font-bold text-gray-900",children:a.model})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Año de Fabricación"}),s.jsx("span",{className:"text-base font-bold text-gray-900",children:a.year})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Clase Vehicular"}),s.jsx("span",{className:"text-base font-bold text-gray-900",children:a.type})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Color"}),s.jsx("span",{className:"text-base font-bold text-gray-900",children:a.color})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Capacidad de Pasajeros"}),s.jsx("span",{className:"text-base font-bold text-gray-900",children:a.seating_capacity})]}),s.jsxs("div",{className:"rounded-lg p-3 flex flex-col items-center shadow-sm bg-gray-50",children:[s.jsx("span",{className:"text-xs text-gray-600 font-semibold",children:"Kilometraje"}),s.jsx("span",{className:"text-base font-bold text-gray-900",children:a.mileage})]})]})}),s.jsxs("div",{className:"border-t px-8 py-4 text-xs text-gray-400 text-center print:hidden",children:["Documento generado por el sistema de Gestión SST © ",new Date().getFullYear()]})]})})]})}export{_ as default};
