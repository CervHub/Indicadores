import{K as b,m as v,r as u,j as e}from"./app-Pjxy35jT.js";import{I as m}from"./input-error-FK_1tS7V.js";import{B as x}from"./button-JEyeJLuj.js";import{D as C,a as D,b as N,c as E,d as y,e as I}from"./dialog-Bxd5yeim.js";import{I as c}from"./input-Cy-PffbC.js";import{L as l}from"./label-DVEzNDQn.js";import{t as d}from"./index-ChKC4xw7.js";import{L as q}from"./loader-circle-BMbb1CW7.js";import"./utils-DU6Hee-i.js";import"./index-DLfEdX_p.js";import"./index-_philcsi.js";import"./index-D9phxP_G.js";import"./index-x5ygObbJ.js";function z(){const{flash:F}=b().props,{data:s,setData:i,post:h,processing:a,errors:n,reset:j}=v({ruc:"",nombre:"",descripcion:"",email:""}),[g,o]=u.useState(!1);u.useEffect(()=>{i("email",`${s.ruc}@code.com.pe`)},[s.ruc]);const f=r=>{r.preventDefault(),h(route("admin.contractor.store"),{onSuccess:p=>{const t=p.props.flash;t.success&&(o(!1),j(),d.success(t.success)),t.error&&(o(!0),d.error(t.error))},onError:p=>{o(!0),d.error("Ocurrió un error al intentar crear el contratista.")}})};return e.jsx("div",{children:e.jsxs(C,{open:g,onOpenChange:o,children:[e.jsx("div",{className:"flex justify-start",children:e.jsx(D,{asChild:!0,children:e.jsx(x,{className:"inline-block px-4 py-2",children:"Crear Empresa"})})}),e.jsxs(N,{className:"sm:max-w-[425px]",children:[e.jsxs(E,{children:[e.jsx(y,{children:"Crear Empresa"}),e.jsx(I,{children:"Complete los campos para crear una nueva empresa."})]}),e.jsxs("form",{onSubmit:f,className:"space-y-3",method:"post",action:route("admin.contractor.store"),children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"ruc",children:"RUC"}),e.jsx(c,{id:"ruc",type:"text",required:!0,value:s.ruc,onChange:r=>i("ruc",r.target.value),disabled:a,placeholder:"RUC"}),e.jsx(m,{message:n.ruc})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"nombre",children:"Nombre"}),e.jsx(c,{id:"nombre",type:"text",required:!0,value:s.nombre,onChange:r=>i("nombre",r.target.value),disabled:a,placeholder:"Nombre"}),e.jsx(m,{message:n.nombre})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"descripcion",children:"Descripción"}),e.jsx(c,{id:"descripcion",type:"text",required:!0,value:s.descripcion,onChange:r=>i("descripcion",r.target.value),disabled:a,placeholder:"Descripción"}),e.jsx(m,{message:n.descripcion})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",type:"text",required:!0,value:`${s.ruc}@code.com.pe`,disabled:!0,placeholder:"Email"})]}),e.jsxs(x,{type:"submit",className:"mt-2 w-auto",disabled:a,children:[a&&e.jsx(q,{className:"h-4 w-4 animate-spin"}),"Guardar"]})]})]})]})})}export{z as default};
