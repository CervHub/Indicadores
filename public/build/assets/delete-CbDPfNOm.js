import{m as D,r as a,j as s}from"./app-DL-haAjQ.js";import{B as E}from"./button-slxFOLX6.js";import{D as h,b as g,c as b,d as y,e as N}from"./dialog-D5lu6PBX.js";import{L as S}from"./loader-circle-C6ZCBZuL.js";import"./utils-BXZQgxmQ.js";import"./index-DanSS8Bx.js";import"./index-4hjVkEVw.js";import"./index-DwZDYCBG.js";function A({isOpen:l=!1,onOpenChange:i,selectedItem:e}){const{data:o,setData:c,delete:m,processing:d,reset:p}=D({id:e.id}),[f,r]=a.useState(l),[u,x]=a.useState(!1);a.useEffect(()=>{x(o.id!=="0")},[o]),a.useEffect(()=>{r(l)},[l]),a.useEffect(()=>{c("id",e.id)},[e,c]);const j=t=>{t.preventDefault(),m(route("contrata.personal.destroy",{personal:o.id}),{onSuccess:n=>{p(),r(!1),i&&i(!1),console.log("Eliminación exitosa:",n)},onError:n=>{r(!0),console.log("Errores en la eliminación:",n)}})};return s.jsx("div",{children:s.jsx(h,{open:f,onOpenChange:t=>{r(t),i&&i(t)},children:s.jsxs(g,{className:"sm:max-w-[425px]",children:[s.jsxs(b,{children:[s.jsx(y,{children:"Eliminar Personal"}),s.jsxs(N,{children:["¿Está seguro de que desea eliminar a ",e.nombres," ",e.apellidos,"? Esta acción no se puede deshacer."]})]}),s.jsx("form",{onSubmit:j,className:"space-y-3",method:"delete",action:route("contrata.personal.destroy",{personal:o.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(E,{type:"submit",className:"mt-2",disabled:d||!u,children:[d&&s.jsx(S,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{A as default};
