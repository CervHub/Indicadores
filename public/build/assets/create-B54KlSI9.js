import{K as b,m as v,r as p,j as e}from"./app-Cn-5C3ys.js";import{I as m}from"./input-error-BkfFglKD.js";import{B as u}from"./button-BfsQPnlH.js";import{D as f,a as C,b as D,c as N,d as y,e as E}from"./dialog-D3OTCAka.js";import{I as o}from"./input-Lnzueksd.js";import{L as c}from"./label-BzIOxSAd.js";import{L as I}from"./loader-circle-ubJ9Lzej.js";import"./utils-U4jazdRL.js";import"./index-DPkw7taS.js";import"./index-D9Yd4Kyp.js";import"./index-Brub5Wp-.js";function $(){const{flash:i}=b().props,{data:s,setData:t,post:x,processing:a,errors:l,reset:g}=v({ruc:"",nombre:"",descripcion:"",email:""}),[h,n]=p.useState(!1);p.useEffect(()=>{t("email",`${s.ruc}@cerv.com.pe`)},[s.ruc]);const j=r=>{r.preventDefault(),x(route("admin.contractor.store"),{onSuccess:d=>{g(),n(!1),console.log("Solicitud de creaci贸n exitosa:",d)},onError:d=>{n(!0),console.log("Errores en la solicitud de creaci贸n:",d)}})};return e.jsxs("div",{children:[(i==null?void 0:i.success)&&e.jsx("div",{className:"mb-4 text-green-600",children:i.success}),e.jsxs(f,{open:h,onOpenChange:n,children:[e.jsx("div",{className:"flex justify-start",children:e.jsx(C,{asChild:!0,children:e.jsx(u,{className:"inline-block px-4 py-2",children:"Agregar Contratista"})})}),e.jsxs(D,{className:"sm:max-w-[425px]",children:[e.jsxs(N,{children:[e.jsx(y,{children:"Agregar Contratista"}),e.jsx(E,{children:"Complete los campos para agregar un nuevo contratista."})]}),e.jsxs("form",{onSubmit:j,className:"space-y-3",method:"post",action:route("admin.contractor.store"),children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"ruc",children:"RUC"}),e.jsx(o,{id:"ruc",type:"text",required:!0,value:s.ruc,onChange:r=>t("ruc",r.target.value),disabled:a,placeholder:"RUC"}),e.jsx(m,{message:l.ruc})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"nombre",children:"Nombre"}),e.jsx(o,{id:"nombre",type:"text",required:!0,value:s.nombre,onChange:r=>t("nombre",r.target.value),disabled:a,placeholder:"Nombre"}),e.jsx(m,{message:l.nombre})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"descripcion",children:"Descripci贸n"}),e.jsx(o,{id:"descripcion",type:"text",required:!0,value:s.descripcion,onChange:r=>t("descripcion",r.target.value),disabled:a,placeholder:"Descripci贸n"}),e.jsx(m,{message:l.descripcion})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"text",required:!0,value:`${s.ruc}@cerv.com.pe`,disabled:!0,placeholder:"Email"})]}),e.jsxs(u,{type:"submit",className:"mt-2 w-full",disabled:a,children:[a&&e.jsx(I,{className:"h-4 w-4 animate-spin"}),"Guardar"]})]})]})]})]})}export{$ as default};
