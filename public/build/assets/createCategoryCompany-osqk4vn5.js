import{m as y,r as p,j as e}from"./app-cUjpwbgV.js";import{I as _}from"./input-error-HZcVSGWh.js";import{B as q}from"./button-BoaoQe9y.js";import{D as E,b as D,c as L,d as G,e as k}from"./dialog-ceAesNvr.js";import{I as w}from"./input-C1sTG57f.js";import{L as i}from"./label-DABoPKzE.js";import{S as B,a as F,b as I,c as T,d as V,e as H,f as R}from"./select-BlAsTZHE.js";import{t as n}from"./index-Ci2KrBi8.js";import{L as z}from"./loader-circle-D-ajzGR7.js";import"./utils-DU6Hee-i.js";import"./index-DX4AjIkM.js";import"./index-F3Y5fKyd.js";import"./index-DT5NOrvF.js";import"./index-DF8DGkDr.js";import"./index-D3t350a6.js";import"./index-CK1bABXb.js";import"./index-B3lGWcVm.js";import"./check-DpuD0fjP.js";function te({categoryId:o,title:u,isDialogOpen:h,setIsDialogOpen:s,isCategorized:x,groups:j}){const{data:c,setData:t,post:g,processing:a,errors:f,reset:l}=y({nombre:"",group_id:void 0,is_required:!1}),[b,C]=p.useState(o);p.useEffect(()=>{C(o),l()},[o]);const S=r=>{const{success:m,error:d}=r.props.flash;m&&(s(!1),l(),n.success(m)),d&&(s(!0),n.error(d))},v=()=>{s(!0),n.error("Ocurrió un error al intentar crear la categoría de empresa.")},N=r=>{r.preventDefault(),g(route("admin.category.admin.store",{category_id:b||0}),{onSuccess:S,onError:v})};return e.jsx("div",{children:e.jsx(E,{open:h,onOpenChange:s,children:e.jsxs(D,{className:"sm:max-w-[425px]",children:[e.jsxs(L,{children:[e.jsxs(G,{children:["Crear ",u]}),e.jsx(k,{children:"Complete los campos para crear una nueva categoría de empresa."})]}),e.jsxs("form",{onSubmit:N,className:"space-y-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"nombre",children:"Nombre"}),e.jsx(w,{id:"nombre",type:"text",required:!0,value:c.nombre,onChange:r=>t("nombre",r.target.value),disabled:a,placeholder:"Nombre"}),e.jsx(_,{message:f.nombre})]}),x==="1"&&e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Grupos disponibles:"}),e.jsxs(B,{onValueChange:r=>t("group_id",r),children:[e.jsx(F,{children:e.jsx(I,{placeholder:"Seleccione un grupo"})}),e.jsx(T,{children:e.jsxs(V,{children:[e.jsx(H,{children:"Grupos"}),j.map(r=>e.jsx(R,{value:r.id.toString(),children:r.name},r.id))]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"is_required",type:"checkbox",checked:c.is_required,onChange:r=>t("is_required",r.target.checked),disabled:a}),e.jsx(i,{htmlFor:"is_required",children:"¿Es requerido?"})]}),e.jsxs(q,{type:"submit",className:"mt-2 w-auto",disabled:a,children:[a&&e.jsx(z,{className:"h-4 w-4 animate-spin"}),"Guardar"]})]})]})})})}export{te as default};
