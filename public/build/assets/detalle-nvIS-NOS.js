import{K as F,r as s,j as e,L as N}from"./app-Cn-5C3ys.js";import{B as C}from"./button-BfsQPnlH.js";import{C as m,a as x,b as h,d as l}from"./card-CQxccbzX.js";import{I as r}from"./input-Lnzueksd.js";import{L as t}from"./label-BzIOxSAd.js";import{A as R}from"./app-layout-CfQxCGck.js";import{a as f}from"./utils-U4jazdRL.js";import D from"./closed-D2X-p7yJ.js";import"./index-Brub5Wp-.js";import"./index-D8D9BEB_.js";import"./index-DPkw7taS.js";import"./index-D9Yd4Kyp.js";import"./index-DRpHiFIR.js";import"./index-j-wEJqs7.js";import"./index-B6_ETsjh.js";import"./chevrons-up-down-fC_fTfbR.js";import"./app-logo-icon-D4U2Ozxf.js";import"./index-CE-KOi-L.js";import"./dialog-D3OTCAka.js";import"./loader-circle-ubJ9Lzej.js";const E=[{title:"Reportabilidad",href:"/admin/reportability"},{title:"Detalle",href:"/admin/reportability/detalle"}];function W(){const{reportability_id:i,reportability:a}=F().props,[d,p]=s.useState(!0),[o,c]=s.useState(null),[j,n]=s.useState(!1),[u,y]=s.useState(0),b=route("company.reportability.download",{reportability_id:i}),v=()=>{p(!1),c(null)},_=()=>{p(!1),c("No se pudo cargar el PDF")};return s.useEffect(()=>{y(g=>g+1)},[]),e.jsxs(R,{breadcrumbs:E,children:[e.jsx(N,{title:"Reportabilidad"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsxs("div",{className:"grid h-full grid-cols-12 gap-4",children:[e.jsxs(m,{className:"col-span-12 h-full md:col-span-8",children:[e.jsx(x,{children:e.jsx(h,{children:"PDF Report"})}),e.jsxs(l,{children:[d&&e.jsx("p",{children:"Cargando PDF..."}),o&&e.jsx("p",{children:o}),e.jsx("iframe",{src:b,width:"100%",height:"550px",onLoad:v,onError:_,style:{display:d||o?"none":"block"}},u)]})]}),e.jsxs(m,{className:"col-span-12 flex h-full flex-col justify-between md:col-span-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:e.jsx(h,{children:"Detalles del reporte"})}),e.jsxs(l,{className:"flex flex-col gap-2 space-y-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"estado",children:"Estado"}),e.jsx(r,{id:"estado",type:"text",value:a.estado,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"tipo_reporte",children:"Tipo de Reporte"}),e.jsx(r,{id:"tipo_reporte",type:"text",value:a.tipo_reporte,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"company_name",children:"Compañía"}),e.jsx(r,{id:"company_name",type:"text",value:a.company_name,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"company_report_name",children:"Compañía Reportada"}),e.jsx(r,{id:"company_report_name",type:"text",value:a.company_report_name,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"fecha_reporte",children:"Fecha de Reporte"}),e.jsx(r,{id:"fecha_reporte",type:"text",value:f(a.fecha_reporte),disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"fecha_evento",children:"Fecha de Evento"}),e.jsx(r,{id:"fecha_evento",type:"text",value:f(a.fecha_evento),disabled:!0})]})]})]}),e.jsx(l,{children:e.jsx(C,{variant:"destructive",className:"mt-4 w-auto",onClick:()=>n(!0),disabled:a.estado==="Finalizado",children:"Finalizar Reporte"})})]})]})}),e.jsx(D,{report_id:i,isDialogOpen:j,setIsDialogOpen:n})]})}export{W as default};
