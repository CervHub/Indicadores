import{r as g,j as e}from"./app-Ddcqu9Ht.js";import{u as B,f as _,g as z,a as H,b as K,c as O}from"./index-rJMMhlB2.js";import{T as U,a as q,b as h,c as J,d as Q,e as R}from"./table-Q7JB9eR1.js";import{B as N}from"./button-DFseu0bS.js";import{I as W}from"./input-BibXpI86.js";import{S as X,a as Y,b as Z,c as ee,f as y}from"./select-DwMrAAaa.js";import{u as te,c as ae,a as se,P as v,b as T,d as oe}from"./index-DdP9pJ0S.js";import{c as M,R as ne,I as re}from"./app-layout-CCTzAZ1e.js";import{u as ie}from"./index-CfWIkaAn.js";import{d as p}from"./utils-CISCwvQU.js";function we({columns:t,data:a,ueas:n=[]}){var S;const[r,u]=g.useState([]),[f,i]=g.useState(""),[l,x]=g.useState("__all__"),[b,m]=g.useState(""),c=g.useMemo(()=>{let s=a;if(l&&l!=="__all__"&&(s=s.filter(o=>o.uea===l)),b&&b.trim()!==""){const o=b.trim().toLowerCase();s=s.filter(w=>w.company&&w.company.toLowerCase().includes(o))}return s},[a,l,b]),d=B({data:c,columns:t,getCoreRowModel:O(),getPaginationRowModel:K(),onSortingChange:u,getSortedRowModel:H(),onGlobalFilterChange:i,getFilteredRowModel:z(),state:{sorting:r,globalFilter:f}}),L=g.useMemo(()=>{if(n&&n.length>0)return n[0]&&"name"in n[0]?n.map(o=>({value:o.name,label:o.name})):n;const s=new Set;return a.forEach(o=>{o.uea&&s.add(o.uea)}),Array.from(s).map(o=>({value:o,label:o}))},[a,n]);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center py-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm",children:"UEA"}),e.jsxs(X,{value:l,onValueChange:x,children:[e.jsx(Y,{className:"w-auto",children:e.jsx(Z,{placeholder:"Todas"})}),e.jsxs(ee,{children:[e.jsx(y,{value:"__all__",children:"Todas"}),L.map(s=>e.jsx(y,{value:s.value,children:s.label},s.value))]})]})]}),e.jsx(W,{placeholder:"Buscar por Contrata...",value:b,onChange:s=>m(s.target.value),className:"max-w-xs"})]}),e.jsx("div",{className:"grid grid-cols-1 rounded-md border",children:e.jsxs(U,{className:"text-xs",children:[e.jsx(q,{children:d.getHeaderGroups().map(s=>e.jsx(h,{children:s.headers.map(o=>e.jsx(J,{children:o.isPlaceholder?null:_(o.column.columnDef.header,o.getContext())},o.id))},s.id))}),e.jsx(Q,{children:(S=d.getRowModel().rows)!=null&&S.length?d.getRowModel().rows.map(s=>e.jsx(h,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(o=>e.jsx(R,{children:_(o.column.columnDef.cell,o.getContext())},o.id))},s.id)):e.jsx(h,{children:e.jsx(R,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsx(N,{variant:"outline",size:"sm",onClick:()=>d.previousPage(),disabled:!d.getCanPreviousPage(),children:"Previous"}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>d.nextPage(),disabled:!d.getCanNextPage(),children:"Next"})]})]})}var j="Tabs",[le,_e]=ae(j,[M]),I=M(),[ce,C]=le(j),P=g.forwardRef((t,a)=>{const{__scopeTabs:n,value:r,onValueChange:u,defaultValue:f,orientation:i="horizontal",dir:l,activationMode:x="automatic",...b}=t,m=ie(l),[c,d]=te({prop:r,onChange:u,defaultProp:f});return e.jsx(ce,{scope:n,baseId:se(),value:c,onValueChange:d,orientation:i,dir:m,activationMode:x,children:e.jsx(v.div,{dir:m,"data-orientation":i,...b,ref:a})})});P.displayName=j;var F="TabsList",A=g.forwardRef((t,a)=>{const{__scopeTabs:n,loop:r=!0,...u}=t,f=C(F,n),i=I(n);return e.jsx(ne,{asChild:!0,...i,orientation:f.orientation,dir:f.dir,loop:r,children:e.jsx(v.div,{role:"tablist","aria-orientation":f.orientation,...u,ref:a})})});A.displayName=F;var E="TabsTrigger",D=g.forwardRef((t,a)=>{const{__scopeTabs:n,value:r,disabled:u=!1,...f}=t,i=C(E,n),l=I(n),x=$(i.baseId,r),b=k(i.baseId,r),m=r===i.value;return e.jsx(re,{asChild:!0,...l,focusable:!u,active:m,children:e.jsx(v.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":b,"data-state":m?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:x,...f,ref:a,onMouseDown:T(t.onMouseDown,c=>{!u&&c.button===0&&c.ctrlKey===!1?i.onValueChange(r):c.preventDefault()}),onKeyDown:T(t.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&i.onValueChange(r)}),onFocus:T(t.onFocus,()=>{const c=i.activationMode!=="manual";!m&&!u&&c&&i.onValueChange(r)})})})});D.displayName=E;var V="TabsContent",G=g.forwardRef((t,a)=>{const{__scopeTabs:n,value:r,forceMount:u,children:f,...i}=t,l=C(V,n),x=$(l.baseId,r),b=k(l.baseId,r),m=r===l.value,c=g.useRef(m);return g.useEffect(()=>{const d=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(d)},[]),e.jsx(oe,{present:u||m,children:({present:d})=>e.jsx(v.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":x,hidden:!d,id:b,tabIndex:0,...i,ref:a,style:{...t.style,animationDuration:c.current?"0s":void 0},children:d&&f})})});G.displayName=V;function $(t,a){return`${t}-trigger-${a}`}function k(t,a){return`${t}-content-${a}`}var de=P,ue=A,me=D,ge=G;function Re({className:t,...a}){return e.jsx(de,{"data-slot":"tabs",className:p("flex flex-col gap-2",t),...a})}function Ne({className:t,...a}){return e.jsx(ue,{"data-slot":"tabs-list",className:p("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",t),...a})}function ye({className:t,...a}){return e.jsx(me,{"data-slot":"tabs-trigger",className:p("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function Me({className:t,...a}){return e.jsx(ge,{"data-slot":"tabs-content",className:p("flex-1 outline-none",t),...a})}export{we as D,Re as T,Ne as a,ye as b,Me as c};
