import{m as D,r as a,j as s}from"./app-BM5UaoLz.js";import{B as E}from"./button-B4jGflLp.js";import{D as g,b,c as y,d as N,e as S}from"./dialog-CwBL4gBr.js";import{t as n}from"./index-CIInWgbm.js";import{L as v}from"./loader-circle-Bak669U4.js";import"./utils-Dxu7ruf7.js";import"./index-DNhIbKYH.js";import"./index-I9jujFTw.js";function H({isOpen:c=!1,onOpenChange:o,selectedItem:e}){const{data:i,setData:d,delete:f,processing:m}=D({id:e.id}),[p,r]=a.useState(c),[x,j]=a.useState(!1);a.useEffect(()=>{j(i.id!=="0")},[i]),a.useEffect(()=>{r(c)},[c]),a.useEffect(()=>{d("id",e.id)},[e,d]);const h=t=>{t.preventDefault(),f(route("contrata.personal.destroy",{personal:i.id}),{onSuccess:u=>{const l=u.props.flash;l.success&&(n.success(l.success),r(!1),o&&o(!1)),l.error&&(n.error(l.error),r(!0))},onError:u=>{r(!0),n.error("Ocurrió un error al eliminar el personal.")}})};return s.jsx("div",{children:s.jsx(g,{open:p,onOpenChange:t=>{r(t),o&&o(t)},children:s.jsxs(b,{className:"sm:max-w-[425px]",children:[s.jsxs(y,{children:[s.jsx(N,{children:"Eliminar Personal"}),s.jsxs(S,{children:["¿Está seguro de que desea eliminar a ",e.nombres," ",e.apellidos,"? Esta acción no se puede deshacer."]})]}),s.jsx("form",{onSubmit:h,className:"space-y-3",method:"delete",action:route("contrata.personal.destroy",{personal:i.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(E,{type:"submit",className:"mt-2",disabled:m||!x,children:[m&&s.jsx(v,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{H as default};
