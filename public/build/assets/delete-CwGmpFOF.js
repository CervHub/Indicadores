import{m as j,r as i,j as e}from"./app-7hetFM7w.js";import{B as D}from"./button-bLmRwzQ6.js";import{D as h,b as E,c as y,d as b,e as N}from"./dialog-BNsp8Rr4.js";import{L as S}from"./loader-circle-Gm3eUCQq.js";import"./utils-BR1kMNAO.js";import"./index-p3DQSU8t.js";import"./index-Cmg62qSN.js";import"./index-CQ-qqEvn.js";function H({isOpen:c=!1,onOpenChange:a,selectedItem:s}){const{data:o,setData:l,delete:m,processing:n,reset:u}=j({id:s.id}),[f,r]=i.useState(c),[p,x]=i.useState(!1);i.useEffect(()=>{x(o.id!=="0")},[o]),i.useEffect(()=>{r(c)},[c]),i.useEffect(()=>{l("id",s.id)},[s,l]);const g=t=>{t.preventDefault(),m(route("security-engineer.destroy",{id:o.id}),{onSuccess:d=>{u(),r(!1),a&&a(!1),console.log("Acceso eliminado exitosamente:",d)},onError:d=>{r(!0),console.log("Errores al eliminar el acceso:",d)}})};return e.jsx("div",{children:e.jsx(h,{open:f,onOpenChange:t=>{r(t),a&&a(t)},children:e.jsxs(E,{className:"sm:max-w-[425px]",children:[e.jsxs(y,{children:[e.jsx(b,{children:"Eliminar Acceso de Ingeniero de Seguridad"}),e.jsxs(N,{children:["¿Está seguro de que desea eliminar el acceso de ",s.nombres," ",s.apellidos," como ingeniero de seguridad? Esta acción no se puede deshacer."]})]}),e.jsx("form",{onSubmit:g,className:"space-y-3",method:"delete",action:route("security-engineer.destroy",{id:o.id}),children:e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsxs(D,{type:"submit",className:"mt-2",disabled:n||!p,children:[n&&e.jsx(S,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{H as default};
