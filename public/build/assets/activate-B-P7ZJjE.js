import{m as h,r as e,j as s}from"./app-Jkxlbawp.js";import{B as D}from"./button-B4B9TstI.js";import{D as g,b as E,c as b,d as N,e as S}from"./dialog-C6fCstu1.js";import{t as n}from"./index-DF3IFT55.js";import{L as y}from"./loader-circle-BLOFmYI8.js";import"./index-Bn6lqfqp.js";import"./utils-Dxu7ruf7.js";import"./index-CErYh_Q8.js";import"./index-BuaQXP4Z.js";function R({isOpen:l=!1,onOpenChange:t,selectedItem:r}){const{data:o,setData:m,put:p,processing:u}=h({id:r.id}),[f,a]=e.useState(l),[x,j]=e.useState(!1);e.useEffect(()=>{j(o.id!=="0")},[o]),e.useEffect(()=>{a(l)},[l]),e.useEffect(()=>{m("id",r.id)},[r,m]);const v=i=>{i.preventDefault(),p(route("contrata.personal.activate",{personal:o.id}),{onSuccess:d=>{const c=d.props.flash;c.success&&(n.success(c.success),a(!1),t&&t(!1)),c.error&&(n.error(c.error),a(!0))},onError:d=>{a(!0),n.error("Ocurrió un error al activar al personal. Por favor, inténtelo de nuevo.")}})};return s.jsx("div",{children:s.jsx(g,{open:f,onOpenChange:i=>{a(i),t&&t(i)},children:s.jsxs(E,{className:"sm:max-w-[425px]",children:[s.jsxs(b,{children:[s.jsx(N,{children:"Activar Personal"}),s.jsxs(S,{children:["¿Está seguro de que desea activar a ",r.nombres," ",r.apellidos,"?"]})]}),s.jsx("form",{onSubmit:v,className:"space-y-3",method:"put",action:route("contrata.personal.activate",{personal:o.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(D,{type:"submit",className:"mt-2",disabled:u||!x,children:[u&&s.jsx(y,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{R as default};
