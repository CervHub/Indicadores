import{j as e,r as g,K as j,L as f}from"./app-CkX-sCCf.js";import{B as b}from"./badge-BoWuBp5k.js";import{B as l}from"./button-Bw2Xdp6E.js";import{A as p}from"./arrow-up-down-DZ9e_FeN.js";import{S as v}from"./square-pen-DqlfRlZ8.js";import{u as w,f as u,g as S,a as C,b as y,c as N}from"./index-CRVVggkg.js";import{T as M,a as R,b as x,c as P,d as T,e as h}from"./table-DskUy7h3.js";import{I}from"./input-MjwaqtbJ.js";import{A as k}from"./app-layout-NwK8qtki.js";import F from"./create-DtD7_vZG.js";import D from"./update-DIG88Q2S.js";import"./utils-Co_qxGNv.js";import"./createLucideIcon-Cux2gun-.js";import"./index-uPTyyJTB.js";import"./index-ItJPPwpU.js";import"./index-C0Urlq2e.js";import"./index-BbjDzo9d.js";import"./tooltip-CeYhT-Ve.js";import"./index-RgIy1NKL.js";import"./index-DiuJ2rgF.js";import"./index-BeeyGmDn.js";import"./check-DYdSJAZQ.js";import"./chevrons-up-down-BuW2oQV_.js";import"./truck-CJs_TKyA.js";import"./file-text-BQQHQTRf.js";import"./chevron-right-D5H3JAm1.js";import"./input-error-VWZhSynO.js";import"./dialog-CQ0eMQJ3.js";import"./label-B68sH3c7.js";import"./loader-circle-B0rPJdrL.js";import"./select-DPNjP_Lz.js";const E=i=>[{accessorKey:"orden",header:({column:t})=>e.jsxs(l,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Orden",e.jsx(p,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>t.index+1},{accessorKey:"nombre",header:({column:t})=>e.jsxs(l,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Name",e.jsx(p,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"estado",header:"Estado",cell:({row:t})=>{const s=t.original.estado,a=s===1||s==="1";return e.jsx(b,{variant:a?"default":"destructive",children:a?"Activa":"No Activa"})}},{accessorKey:"updated_at",header:({column:t})=>e.jsxs(l,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Fecha de ModificaciÃ³n",e.jsx(p,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>new Date(t.original.updated_at).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},{id:"actions",header:"Acciones",cell:({row:t})=>{const s=t.original;return e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(l,{variant:"destructive",size:"sm",onClick:()=>i==null?void 0:i("edit",s),children:e.jsx(v,{className:"h-4 w-4"})})})}}];function A({columns:i,data:t}){var m;const[s,a]=g.useState([]),[d,c]=g.useState(""),r=w({data:t,columns:i,getCoreRowModel:N(),getPaginationRowModel:y(),onSortingChange:a,getSortedRowModel:C(),onGlobalFilterChange:c,getFilteredRowModel:S(),state:{sorting:s,globalFilter:d}});return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center py-4",children:e.jsx(I,{placeholder:"Filter by any column...",value:d,onChange:o=>c(o.target.value),className:"max-w-sm"})}),e.jsx("div",{className:"rounded-md border grid grid-cols-1",children:e.jsxs(M,{children:[e.jsx(R,{children:r.getHeaderGroups().map(o=>e.jsx(x,{children:o.headers.map(n=>e.jsx(P,{children:n.isPlaceholder?null:u(n.column.columnDef.header,n.getContext())},n.id))},o.id))}),e.jsx(T,{children:(m=r.getRowModel().rows)!=null&&m.length?r.getRowModel().rows.map(o=>e.jsx(x,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(n=>e.jsx(h,{children:u(n.column.columnDef.cell,n.getContext())},n.id))},o.id)):e.jsx(x,{children:e.jsx(h,{colSpan:i.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsx(l,{variant:"outline",size:"sm",onClick:()=>r.previousPage(),disabled:!r.getCanPreviousPage(),children:"Previous"}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>r.nextPage(),disabled:!r.getCanNextPage(),children:"Next"})]})]})}const B=[{title:"Gerencias",href:"/management"}];function xe(){const{entities:i}=j().props,[t,s]=g.useState(!1),[a,d]=g.useState(null),c=(r,m)=>{switch(r){case"edit":d(m),s(!0);break}};return e.jsxs(k,{breadcrumbs:B,children:[e.jsx(f,{title:"Gerencias"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(F,{})}),e.jsx(A,{columns:E(c),data:i}),a&&e.jsx(D,{isOpen:t,onOpenChange:s,selectedItem:{id:a.id,nombre:a.nombre,estado:a.estado}})]})]})}export{xe as default};
