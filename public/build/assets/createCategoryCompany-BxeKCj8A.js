import{m as y,r as l,j as e}from"./app-Jkxlbawp.js";import{I as D}from"./input-error-eyKfC5Rx.js";import{B as E}from"./button-B4B9TstI.js";import{D as L,b as G,c as w,d as _,e as B}from"./dialog-C6fCstu1.js";import{I}from"./input-CK4xGbuF.js";import{L as d}from"./label-HHTb1gII.js";import{S as T,a as V,b as q,c as F,d as H,e as R,f as k}from"./select-CDtEIfB0.js";import{t}from"./index-DF3IFT55.js";import{L as z}from"./loader-circle-BLOFmYI8.js";import"./utils-Dxu7ruf7.js";import"./index-Bn6lqfqp.js";import"./index-CErYh_Q8.js";import"./index-BuaQXP4Z.js";import"./index-BhBNrGj_.js";import"./index-DSzzxumM.js";import"./check-9Wi4TWl0.js";function ae({categoryId:a,title:p,isDialogOpen:u,setIsDialogOpen:s,isCategorized:x,groups:h}){const{data:j,setData:i,post:g,processing:o,errors:f,reset:n}=y({nombre:"",group_id:void 0}),[b,C]=l.useState(a);l.useEffect(()=>{C(a),n()},[a]);const S=r=>{const{success:c,error:m}=r.props.flash;c&&(s(!1),n(),t.success(c)),m&&(s(!0),t.error(m))},v=()=>{s(!0),t.error("Ocurrió un error al intentar crear la categoría de empresa.")},N=r=>{r.preventDefault(),g(route("admin.category.admin.store",{category_id:b||0}),{onSuccess:S,onError:v})};return e.jsx("div",{children:e.jsx(L,{open:u,onOpenChange:s,children:e.jsxs(G,{className:"sm:max-w-[425px]",children:[e.jsxs(w,{children:[e.jsxs(_,{children:["Crear ",p]}),e.jsx(B,{children:"Complete los campos para crear una nueva categoría de empresa."})]}),e.jsxs("form",{onSubmit:N,className:"space-y-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"nombre",children:"Nombre"}),e.jsx(I,{id:"nombre",type:"text",required:!0,value:j.nombre,onChange:r=>i("nombre",r.target.value),disabled:o,placeholder:"Nombre"}),e.jsx(D,{message:f.nombre})]}),x==="1"&&e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Grupos disponibles:"}),e.jsxs(T,{onValueChange:r=>i("group_id",r),children:[e.jsx(V,{children:e.jsx(q,{placeholder:"Seleccione un grupo"})}),e.jsx(F,{children:e.jsxs(H,{children:[e.jsx(R,{children:"Grupos"}),h.map(r=>e.jsx(k,{value:r.id.toString(),children:r.name},r.id))]})})]})]}),e.jsxs(E,{type:"submit",className:"mt-2 w-auto",disabled:o,children:[o&&e.jsx(z,{className:"h-4 w-4 animate-spin"}),"Guardar"]})]})]})})})}export{ae as default};
