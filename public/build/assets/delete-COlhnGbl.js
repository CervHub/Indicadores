import{m as j,r as a,j as s}from"./app-Bmcdr3rY.js";import{B as D}from"./button-DTKbtbr3.js";import{D as g,b as E,c as y,d as b,e as N}from"./dialog-DRTvkdgv.js";import{h as S,a as _}from"./handleFlashMessages-Dbk2wcAx.js";import{L as v}from"./loader-circle-C5lOWTxt.js";import"./index-F1UbrP38.js";import"./utils-CISCwvQU.js";import"./index-CxZfpC1a.js";import"./createLucideIcon-BS7UES9g.js";import"./index-CKnKVnvB.js";import"./index-3hBHLDdS.js";import"./index-C5uH-olr.js";function k({isOpen:l=!1,onOpenChange:r,selectedItem:e}){const{data:i,setData:d,delete:c,processing:n,reset:m}=j({id:e.user_id}),[p,t]=a.useState(l),[u,f]=a.useState(!1);a.useEffect(()=>{f(i.id!=="0")},[i]),a.useEffect(()=>{t(l)},[l]),a.useEffect(()=>{d("id",e.user_id)},[e,d]);const x=o=>{o.preventDefault(),c(route("contrata.roles.destroy",{id:i.id}),{onSuccess:h=>{_(h.props.flash),m(),t(!1),r&&r(!1)},onError:()=>{S(),t(!0)}})};return s.jsx("div",{children:s.jsx(g,{open:p,onOpenChange:o=>{t(o),r&&r(o)},children:s.jsxs(E,{className:"sm:max-w-[425px]",children:[s.jsxs(y,{children:[s.jsx(b,{children:"Eliminar Rol"}),s.jsxs(N,{children:["¿Está seguro de que desea eliminar el rol de ",s.jsx("strong",{children:e.role_name})," asignado a ",s.jsx("strong",{children:e.user_name}),"? Esta acción no se puede deshacer."]})]}),s.jsx("form",{onSubmit:x,className:"space-y-3",method:"delete",action:route("contrata.roles.destroy",{id:i.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(D,{type:"submit",className:"mt-2",disabled:n||!u,children:[n&&s.jsx(v,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{k as default};
