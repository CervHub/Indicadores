import{m as b,r as u,j as i}from"./app-CgNGoX1T.js";import{I as o}from"./input-error-Dx78-qIE.js";import{B as D}from"./button-kaTXcZii.js";import{D as N,b as E,c as C,d as F,e as I}from"./dialog-CTa4mFrk.js";import{I as d}from"./input-BaOlmdqF.js";import{L as m}from"./label-45C58I4J.js";import{L}from"./loader-circle-3HvUlcjo.js";import"./utils-U4jazdRL.js";import"./index-l0oIqbCP.js";import"./index-bp9c4tc-.js";import"./index-DJE-FRJd.js";function q({isOpen:g=!1,onOpenChange:c,person:a}){const{data:t,setData:e,put:h,processing:j,errors:s,reset:f}=b({id:(a==null?void 0:a.id)||0,doi:(a==null?void 0:a.doi)||"",email:(a==null?void 0:a.email)||"",nombres:(a==null?void 0:a.nombres)||"",apellidos:(a==null?void 0:a.apellidos)||"",telefono:(a==null?void 0:a.telefono)||"",cargo:(a==null?void 0:a.cargo)||""}),[n,r]=u.useState(g);u.useEffect(()=>{r(g)},[g]),u.useEffect(()=>{a&&e({id:a.id,doi:a.doi,email:a.email,nombres:a.nombres,apellidos:a.apellidos,telefono:a.telefono,cargo:a.cargo})},[a,e]);const v=l=>{l.preventDefault(),h(route("contrata.personal.update",a==null?void 0:a.id),{onSuccess:x=>{f(),r(!1),c&&c(!1),console.log("Solicitud de actualización exitosa:",x)},onError:x=>{r(!0),console.log("Errores en la solicitud de actualización:",x)}})};return i.jsx("div",{children:i.jsx(N,{open:n,onOpenChange:l=>{r(l),c&&c(l)},children:i.jsxs(E,{className:"sm:max-w-[425px]",children:[i.jsxs(C,{children:[i.jsx(F,{children:"Editar Persona"}),i.jsx(I,{children:"Complete los campos para editar la persona."})]}),i.jsxs("form",{onSubmit:v,className:"space-y-3",method:"post",action:route("contrata.personal.update",a==null?void 0:a.doi),children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(m,{htmlFor:"doi",children:"DOI"}),i.jsx(d,{id:"doi",value:t.doi,onChange:l=>e("doi",l.target.value)}),i.jsx(o,{message:s.doi})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(m,{htmlFor:"email",children:"Email"}),i.jsx(d,{id:"email",type:"email",value:t.email,onChange:l=>e("email",l.target.value)}),i.jsx(o,{message:s.email})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(m,{htmlFor:"nombres",children:"Nombres"}),i.jsx(d,{id:"nombres",value:t.nombres,onChange:l=>e("nombres",l.target.value)}),i.jsx(o,{message:s.nombres})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(m,{htmlFor:"apellidos",children:"Apellidos"}),i.jsx(d,{id:"apellidos",value:t.apellidos,onChange:l=>e("apellidos",l.target.value)}),i.jsx(o,{message:s.apellidos})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(m,{htmlFor:"telefono",children:"Teléfono"}),i.jsx(d,{id:"telefono",value:t.telefono,onChange:l=>e("telefono",l.target.value)}),i.jsx(o,{message:s.telefono})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(m,{htmlFor:"cargo",children:"Cargo"}),i.jsx(d,{id:"cargo",value:t.cargo,onChange:l=>e("cargo",l.target.value)}),i.jsx(o,{message:s.cargo})]}),i.jsxs(D,{type:"submit",className:"mt-2",disabled:j,children:[j&&i.jsx(L,{className:"h-4 w-4 animate-spin"}),"Actualizar"]})]})]})})})}export{q as default};
