import{j as e,r as l,K as b,L as D}from"./app-D3C2KCvr.js";import{B as n}from"./button-XorcdaTA.js";import{B as N}from"./badge-DRrerElY.js";import{A as S}from"./arrow-up-down-Ab2Qbahi.js";import{E as y}from"./eye-8l7mnCE-.js";import{S as O}from"./square-pen-Cyk2T2p1.js";import{C as R}from"./circle-check-big-XdaB2w6X.js";import{c as I}from"./index-BURPMaSq.js";import{u as M,f as u,g as T,a as k,b as P,c as E}from"./index-D4_XbMgy.js";import{T as F,a as A,b as h,c as B,d as V,e as f}from"./table-BF3GUCWE.js";import{I as K}from"./input-BrRKpmXb.js";import{A as H}from"./app-layout-Woivauv2.js";import L from"./activate-BZ6wCdkg.js";import z from"./create-Cb3TYIVo.js";import G from"./delete-Dz3QnMei.js";import U from"./edit-Cj8JHw4Y.js";import _ from"./view-Bzdy2Xgl.js";import"./utils-Dxu7ruf7.js";import"./index-B7drzVOH.js";import"./index-ChDmchzW.js";import"./index-NqcYGz6z.js";import"./index-4kJkUjxS.js";import"./index-Cz9SVtaK.js";import"./chevrons-up-down-OKZ9bOKa.js";import"./truck-BB8eMeit.js";import"./chevron-right-DDtbCrUU.js";import"./dialog-BHKo-YT8.js";import"./loader-circle-enc34aSQ.js";import"./input-error-D9QJ6ibq.js";import"./label-CM-Qq7xE.js";import"./refresh-cw-CdBP2hCs.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],J=I("Trash",q),Q=t=>[{accessorKey:"nombre",header:({column:o})=>e.jsxs(n,{variant:"ghost",onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),children:["Nombre",e.jsx(S,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"ruc",header:"RUC"},{accessorKey:"descripcion",header:"DescripciÃ³n"},{accessorKey:"estado",header:"Estado",cell:({row:o})=>{const s=o.original;return e.jsx(N,{variant:s.estado==="0"?"destructive":"success",children:s.estado==="0"?"Inactiva":"Activa"})}},{id:"actions",cell:({row:o})=>{const s=o.original;return e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>t(s.id,"detail"),children:e.jsx(y,{className:"h-4 w-4"})}),e.jsx(n,{variant:"warning",className:"h-8 w-8 p-0",onClick:()=>t(s.id,"edit"),children:e.jsx(O,{className:"h-4 w-4"})}),s.estado==="0"?e.jsx(n,{variant:"success",className:"h-8 w-8 p-0",onClick:()=>t(s.id,"activate"),children:e.jsx(R,{className:"h-4 w-4"})}):e.jsx(n,{variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>t(s.id,"delete"),children:e.jsx(J,{className:"h-4 w-4"})})]})}}];function W({columns:t,data:o}){var d;const[s,m]=l.useState([]),[p,c]=l.useState(""),i=M({data:o,columns:t,getCoreRowModel:E(),getPaginationRowModel:P(),onSortingChange:m,getSortedRowModel:k(),onGlobalFilterChange:c,getFilteredRowModel:T(),state:{sorting:s,globalFilter:p}});return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center py-4",children:e.jsx(K,{placeholder:"Filter by any column...",value:p,onChange:r=>c(r.target.value),className:"max-w-sm"})}),e.jsx("div",{className:"rounded-md border grid grid-cols-1",children:e.jsxs(F,{children:[e.jsx(A,{children:i.getHeaderGroups().map(r=>e.jsx(h,{children:r.headers.map(a=>e.jsx(B,{children:a.isPlaceholder?null:u(a.column.columnDef.header,a.getContext())},a.id))},r.id))}),e.jsx(V,{children:(d=i.getRowModel().rows)!=null&&d.length?i.getRowModel().rows.map(r=>e.jsx(h,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(a=>e.jsx(f,{children:u(a.column.columnDef.cell,a.getContext())},a.id))},r.id)):e.jsx(h,{children:e.jsx(f,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>i.previousPage(),disabled:!i.getCanPreviousPage(),children:"Previous"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>i.nextPage(),disabled:!i.getCanNextPage(),children:"Next"})]})]})}const X=[{title:"Contratistas",href:"/contractors"}];function Re(){const[t,o]=l.useState(null),[s,m]=l.useState(!1),[p,c]=l.useState(!1),[i,d]=l.useState(!1),[r,a]=l.useState(!1),{contractors:x}=b().props,j=l.useCallback((C,g)=>{const v=x.find(w=>w.id===C)||null;o(v),g==="edit"?c(!0):g==="delete"?m(!0):g==="activate"?d(!0):g==="detail"&&a(!0)},[x]);return e.jsxs(H,{breadcrumbs:X,children:[e.jsx(D,{title:"Contratistas"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(z,{}),e.jsx(W,{columns:Q(j),data:x})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx(U,{contractor:t,isDialogOpen:p,setIsDialogOpen:c}),e.jsx(G,{isDialogOpen:s,setIsDialogOpen:m,contractor:t}),e.jsx(L,{isDialogOpen:i,setIsDialogOpen:d,contractor:t}),e.jsx(_,{isDialogOpen:r,setIsDialogOpen:a,contractor:t})]})]})}export{Re as default};
