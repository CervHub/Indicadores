import{r as a,j as c}from"./app-GVpGJeU7.js";import{e as W,u as H,c as $,a as L,f as O,P as E,b as g,d as j,h as z,D as G}from"./index-CwCzXZA7.js";import{h as K,c as Z,u as B,F as U}from"./index-n7sBKrK3.js";import{c as b,R as q,A as _,C as J,a as Q}from"./index-Ro_MRc18.js";import{d as X}from"./utils-qLzneZb4.js";var w=a.forwardRef((e,r)=>{const{children:o,...n}=e,t=a.Children.toArray(o),s=t.find(ee);if(s){const i=s.props.children,l=t.map(p=>p===s?a.Children.count(i)>1?a.Children.only(null):a.isValidElement(i)?i.props.children:null:p);return c.jsx(x,{...n,ref:r,children:a.isValidElement(i)?a.cloneElement(i,void 0,l):null})}return c.jsx(x,{...n,ref:r,children:o})});w.displayName="Slot";var x=a.forwardRef((e,r)=>{const{children:o,...n}=e;if(a.isValidElement(o)){const t=te(o),s=oe(n,o.props);return o.type!==a.Fragment&&(s.ref=r?W(r,t):t),a.cloneElement(o,s)}return a.Children.count(o)>1?a.Children.only(null):null});x.displayName="SlotClone";var Y=({children:e})=>c.jsx(c.Fragment,{children:e});function ee(e){return a.isValidElement(e)&&e.type===Y}function oe(e,r){const o={...r};for(const n in r){const t=e[n],s=r[n];/^on[A-Z]/.test(n)?t&&s?o[n]=(...l)=>{s(...l),t(...l)}:t&&(o[n]=t):n==="style"?o[n]={...t,...s}:n==="className"&&(o[n]=[t,s].filter(Boolean).join(" "))}return{...e,...o}}function te(e){var n,t;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var R="Popover",[y,Re]=$(R,[b]),P=b(),[re,d]=y(R),N=e=>{const{__scopePopover:r,children:o,open:n,defaultOpen:t,onOpenChange:s,modal:i=!1}=e,l=P(r),p=a.useRef(null),[u,h]=a.useState(!1),[m=!1,f]=H({prop:n,defaultProp:t,onChange:s});return c.jsx(q,{...l,children:c.jsx(re,{scope:r,contentId:L(),triggerRef:p,open:m,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(C=>!C),[f]),hasCustomAnchor:u,onCustomAnchorAdd:a.useCallback(()=>h(!0),[]),onCustomAnchorRemove:a.useCallback(()=>h(!1),[]),modal:i,children:o})})};N.displayName=R;var F="PopoverAnchor",ne=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(F,o),s=P(o),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=t;return a.useEffect(()=>(i(),()=>l()),[i,l]),c.jsx(_,{...s,...n,ref:r})});ne.displayName=F;var S="PopoverTrigger",D=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(S,o),s=P(o),i=O(r,t.triggerRef),l=c.jsx(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":V(t.open),...n,ref:i,onClick:g(e.onClick,t.onOpenToggle)});return t.hasCustomAnchor?l:c.jsx(_,{asChild:!0,...s,children:l})});D.displayName=S;var A="PopoverPortal",[se,ae]=y(A,{forceMount:void 0}),M=e=>{const{__scopePopover:r,forceMount:o,children:n,container:t}=e,s=d(A,r);return c.jsx(se,{scope:r,forceMount:o,children:c.jsx(j,{present:o||s.open,children:c.jsx(z,{asChild:!0,container:t,children:n})})})};M.displayName=A;var v="PopoverContent",T=a.forwardRef((e,r)=>{const o=ae(v,e.__scopePopover),{forceMount:n=o.forceMount,...t}=e,s=d(v,e.__scopePopover);return c.jsx(j,{present:n||s.open,children:s.modal?c.jsx(ie,{...t,ref:r}):c.jsx(ce,{...t,ref:r})})});T.displayName=v;var ie=a.forwardRef((e,r)=>{const o=d(v,e.__scopePopover),n=a.useRef(null),t=O(r,n),s=a.useRef(!1);return a.useEffect(()=>{const i=n.current;if(i)return K(i)},[]),c.jsx(Z,{as:w,allowPinchZoom:!0,children:c.jsx(k,{...e,ref:t,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:g(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=o.triggerRef.current)==null||l.focus()}),onPointerDownOutside:g(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,p=l.button===0&&l.ctrlKey===!0,u=l.button===2||p;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:g(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),ce=a.forwardRef((e,r)=>{const o=d(v,e.__scopePopover),n=a.useRef(!1),t=a.useRef(!1);return c.jsx(k,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=o.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,t.current=!1},onInteractOutside:s=>{var p,u;(p=e.onInteractOutside)==null||p.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const i=s.target;((u=o.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&t.current&&s.preventDefault()}})}),k=a.forwardRef((e,r)=>{const{__scopePopover:o,trapFocus:n,onOpenAutoFocus:t,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:h,...m}=e,f=d(v,o),C=P(o);return B(),c.jsx(U,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:t,onUnmountAutoFocus:s,children:c.jsx(G,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:c.jsx(J,{"data-state":V(f.open),role:"dialog",id:f.contentId,...C,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),I="PopoverClose",le=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(I,o);return c.jsx(E.button,{type:"button",...n,ref:r,onClick:g(e.onClick,()=>t.onOpenChange(!1))})});le.displayName=I;var pe="PopoverArrow",ue=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=P(o);return c.jsx(Q,{...t,...n,ref:r})});ue.displayName=pe;function V(e){return e?"open":"closed"}var de=N,fe=D,ve=M,ge=T;function Ae({...e}){return c.jsx(de,{"data-slot":"popover",...e})}function Oe({...e}){return c.jsx(fe,{"data-slot":"popover-trigger",...e})}function Ee({className:e,align:r="center",sideOffset:o=4,...n}){return c.jsx(ve,{children:c.jsx(ge,{"data-slot":"popover-content",align:r,sideOffset:o,className:X("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",e),...n})})}export{Ae as P,Oe as a,Ee as b};
