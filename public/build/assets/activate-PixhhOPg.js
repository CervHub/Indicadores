import{m as v,r as e,j as s}from"./app-DL-haAjQ.js";import{B as D}from"./button-slxFOLX6.js";import{D as g,b as h,c as E,d as b,e as N}from"./dialog-D5lu6PBX.js";import{L as A}from"./loader-circle-C6ZCBZuL.js";import"./utils-BXZQgxmQ.js";import"./index-DanSS8Bx.js";import"./index-4hjVkEVw.js";import"./index-DwZDYCBG.js";function q({isOpen:c=!1,onOpenChange:t,selectedItem:a}){const{data:i,setData:n,put:m,processing:d,reset:p}=v({id:a.id}),[u,o]=e.useState(c),[f,x]=e.useState(!1);e.useEffect(()=>{x(i.id!=="0")},[i]),e.useEffect(()=>{o(c)},[c]),e.useEffect(()=>{n("id",a.id)},[a,n]);const j=r=>{r.preventDefault(),m(route("contrata.personal.activate",{personal:i.id}),{onSuccess:l=>{p(),o(!1),t&&t(!1),console.log("Activación exitosa:",l)},onError:l=>{o(!0),console.log("Errores en la activación:",l)}})};return s.jsx("div",{children:s.jsx(g,{open:u,onOpenChange:r=>{o(r),t&&t(r)},children:s.jsxs(h,{className:"sm:max-w-[425px]",children:[s.jsxs(E,{children:[s.jsx(b,{children:"Activar Personal"}),s.jsxs(N,{children:["¿Está seguro de que desea activar a ",a.nombres," ",a.apellidos,"?"]})]}),s.jsx("form",{onSubmit:j,className:"space-y-3",method:"put",action:route("contrata.personal.activate",{personal:i.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(D,{type:"submit",className:"mt-2",disabled:d||!f,children:[d&&s.jsx(A,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{q as default};
