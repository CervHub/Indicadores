import{m as S,r as q,j as r}from"./app-Pjxy35jT.js";import{I as v}from"./input-error-FK_1tS7V.js";import{B as y}from"./button-JEyeJLuj.js";import{D as C,b as N,c as E,d as D,e as L}from"./dialog-Bxd5yeim.js";import{I as k}from"./input-Cy-PffbC.js";import{L as c}from"./label-DVEzNDQn.js";import{S as w,a as z,b as G,c as I,d as B,e as F,f as T}from"./select-Bntu6Is5.js";import{t as n}from"./index-ChKC4xw7.js";import{L as V}from"./loader-circle-BMbb1CW7.js";import"./utils-DU6Hee-i.js";import"./index-DLfEdX_p.js";import"./index-_philcsi.js";import"./index-D9phxP_G.js";import"./index-x5ygObbJ.js";import"./index-C3r3MIZ_.js";import"./index-DXAgfHUs.js";import"./index-C3aTgX75.js";import"./check-BeZxY9yK.js";function or({categoryId:A,title:u,isDialogOpen:p,setIsDialogOpen:a,isCategorized:m,groups:h,item:e}){const{data:d,setData:o,put:x,processing:i,errors:g,reset:j}=S({nombre:(e==null?void 0:e.nombre)||"",group_id:(e==null?void 0:e.group_id)??void 0,is_required:(e==null?void 0:e.is_required)===1||(e==null?void 0:e.is_required)==="1"});q.useEffect(()=>{e&&o({nombre:e.nombre,group_id:e.group_id??void 0,is_required:e.is_required===1||e.is_required==="1"})},[e]);const f=s=>{const{success:l,error:t}=s.props.flash;l&&(a(!1),j(),n.success(l)),t&&(a(!0),n.error(t))},b=()=>{a(!0),n.error("Ocurrió un error al intentar actualizar la categoría de empresa.")},_=s=>{s.preventDefault(),e&&x(route("admin.category.admin.update",{category_id:e.id}),{onSuccess:f,onError:b,preserveScroll:!0})};return r.jsx("div",{children:r.jsx(C,{open:p,onOpenChange:a,children:r.jsxs(N,{className:"sm:max-w-[425px]",children:[r.jsxs(E,{children:[r.jsxs(D,{children:["Editar ",u]}),r.jsx(L,{children:"Modifique los campos para actualizar la categoría de empresa."})]}),r.jsxs("form",{onSubmit:_,className:"space-y-3",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(c,{htmlFor:"nombre",children:"Nombre"}),r.jsx(k,{id:"nombre",type:"text",required:!0,value:d.nombre,onChange:s=>o("nombre",s.target.value),disabled:i,placeholder:"Nombre"}),r.jsx(v,{message:g.nombre})]}),m==="1"&&r.jsxs("div",{className:"grid gap-2",children:[r.jsx(c,{children:"Grupos disponibles:"}),r.jsxs(w,{value:d.group_id,onValueChange:s=>o("group_id",s),children:[r.jsx(z,{children:r.jsx(G,{placeholder:"Seleccione un grupo"})}),r.jsx(I,{children:r.jsxs(B,{children:[r.jsx(F,{children:"Grupos"}),h.map(s=>r.jsx(T,{value:s.id.toString(),children:s.name},s.id))]})})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{id:"is_required",type:"checkbox",checked:d.is_required,onChange:s=>o("is_required",s.target.checked),disabled:i}),r.jsx(c,{htmlFor:"is_required",children:"¿Es requerido?"})]}),r.jsxs(y,{type:"submit",className:"mt-2 w-auto",disabled:i,children:[i&&r.jsx(V,{className:"h-4 w-4 animate-spin"}),"Actualizar"]})]})]})})})}export{or as default};
