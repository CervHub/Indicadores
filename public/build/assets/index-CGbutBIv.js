import{j as e,r as l,K as D,L as b}from"./app-z5ktE9BH.js";import{c as N,B as n}from"./button-C_oiKoIY.js";import{B as S}from"./badge-B2racxeP.js";import{A as y}from"./arrow-up-down-BdaoepBJ.js";import{E as O}from"./eye-CM6Wuw0s.js";import{S as R,C as I}from"./square-pen-BD9HH7TN.js";import{u as M,T,a as k,b as h,c as P,f as u,d as E,e as j,g as F,h as A,i as B,j as V}from"./table-DAoF9gLz.js";import{I as K}from"./input-CKWWJOdM.js";import{A as H}from"./app-layout-GuG1mSnY.js";import L from"./activate-3Lvlw08D.js";import z from"./create-Dyjn_OOt.js";import G from"./delete-BMZ6wz0A.js";import U from"./edit-BLe_rDtZ.js";import _ from"./view-m5-FovDd.js";import"./utils-Dxu7ruf7.js";import"./index-D557uJcI.js";import"./index-B_R_N6X8.js";import"./index-G7h82If6.js";import"./index-aMIcT1nr.js";import"./index-_-VX8_ly.js";import"./index-hIcY5M3R.js";import"./index-DsVPrivb.js";import"./chevrons-up-down-WOpzrFt2.js";import"./file-chart-pie-Czb62W2g.js";import"./dialog-B_GZKWsW.js";import"./loader-circle-DbU2V8Ti.js";import"./input-error-z2kg8Fz7.js";import"./label-Cxswr_Tj.js";import"./refresh-cw-CuTfFkui.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],J=N("Trash",q),Q=t=>[{accessorKey:"nombre",header:({column:o})=>e.jsxs(n,{variant:"ghost",onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),children:["Nombre",e.jsx(y,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"ruc",header:"RUC"},{accessorKey:"descripcion",header:"DescripciÃ³n"},{accessorKey:"estado",header:"Estado",cell:({row:o})=>{const s=o.original;return e.jsx(S,{variant:s.estado==="0"?"destructive":"success",children:s.estado==="0"?"Inactiva":"Activa"})}},{id:"actions",cell:({row:o})=>{const s=o.original;return e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>t(s.id,"detail"),children:e.jsx(O,{className:"h-4 w-4"})}),e.jsx(n,{variant:"warning",className:"h-8 w-8 p-0",onClick:()=>t(s.id,"edit"),children:e.jsx(R,{className:"h-4 w-4"})}),s.estado==="0"?e.jsx(n,{variant:"success",className:"h-8 w-8 p-0",onClick:()=>t(s.id,"activate"),children:e.jsx(I,{className:"h-4 w-4"})}):e.jsx(n,{variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>t(s.id,"delete"),children:e.jsx(J,{className:"h-4 w-4"})})]})}}];function W({columns:t,data:o}){var d;const[s,m]=l.useState([]),[p,c]=l.useState(""),i=M({data:o,columns:t,getCoreRowModel:V(),getPaginationRowModel:B(),onSortingChange:m,getSortedRowModel:A(),onGlobalFilterChange:c,getFilteredRowModel:F(),state:{sorting:s,globalFilter:p}});return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center py-4",children:e.jsx(K,{placeholder:"Filter by any column...",value:p,onChange:r=>c(r.target.value),className:"max-w-sm"})}),e.jsx("div",{className:"rounded-md border grid grid-cols-1",children:e.jsxs(T,{children:[e.jsx(k,{children:i.getHeaderGroups().map(r=>e.jsx(h,{children:r.headers.map(a=>e.jsx(P,{children:a.isPlaceholder?null:u(a.column.columnDef.header,a.getContext())},a.id))},r.id))}),e.jsx(E,{children:(d=i.getRowModel().rows)!=null&&d.length?i.getRowModel().rows.map(r=>e.jsx(h,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(a=>e.jsx(j,{children:u(a.column.columnDef.cell,a.getContext())},a.id))},r.id)):e.jsx(h,{children:e.jsx(j,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>i.previousPage(),disabled:!i.getCanPreviousPage(),children:"Previous"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>i.nextPage(),disabled:!i.getCanNextPage(),children:"Next"})]})]})}const X=[{title:"Contratistas",href:"/contractors"}];function ye(){const[t,o]=l.useState(null),[s,m]=l.useState(!1),[p,c]=l.useState(!1),[i,d]=l.useState(!1),[r,a]=l.useState(!1),{contractors:x}=D().props,f=l.useCallback((C,g)=>{const v=x.find(w=>w.id===C)||null;o(v),g==="edit"?c(!0):g==="delete"?m(!0):g==="activate"?d(!0):g==="detail"&&a(!0)},[x]);return e.jsxs(H,{breadcrumbs:X,children:[e.jsx(b,{title:"Contratistas"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(z,{}),e.jsx(W,{columns:Q(f),data:x})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx(U,{contractor:t,isDialogOpen:p,setIsDialogOpen:c}),e.jsx(G,{isDialogOpen:s,setIsDialogOpen:m,contractor:t}),e.jsx(L,{isDialogOpen:i,setIsDialogOpen:d,contractor:t}),e.jsx(_,{isDialogOpen:r,setIsDialogOpen:a,contractor:t})]})]})}export{ye as default};
