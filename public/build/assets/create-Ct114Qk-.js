import{m as f,r as I,j as s}from"./app-Bmcdr3rY.js";import{I as t}from"./input-error-BlgkwXPh.js";import{B as n}from"./button-DTKbtbr3.js";import{D,a as C,b as N,c as b,d as v,e as R}from"./dialog-DRTvkdgv.js";import{L as m}from"./label-CxH93Fcg.js";import{C as c}from"./combobox-BUvbTNPo.js";import{h as S,a as y}from"./handleFlashMessages-Dbk2wcAx.js";import{L as E}from"./loader-circle-C5lOWTxt.js";import"./utils-CISCwvQU.js";import"./index-F1UbrP38.js";import"./index-CxZfpC1a.js";import"./createLucideIcon-BS7UES9g.js";import"./index-CKnKVnvB.js";import"./index-3hBHLDdS.js";import"./search-B7JmLQoT.js";import"./popover-DztnhRT-.js";import"./index-CtQ0aJ3B.js";import"./chevrons-up-down-BMrNvCaf.js";import"./trash-2-DNpxwq21.js";import"./check-DxJ6GiVG.js";import"./index-C5uH-olr.js";function Y({users:p,roles:d}){const{data:e,setData:a,post:u,processing:l,errors:i,reset:h}=f({userId:null,roleId:null}),[x,o]=I.useState(!1),g=r=>{r.preventDefault(),u(route("contrata.roles.store"),{onSuccess:j=>{y(j.props.flash),h(),o(!1)},onError:()=>{S(),o(!0)}})};return s.jsx("div",{children:s.jsxs(D,{open:x,onOpenChange:r=>o(r),children:[s.jsx("div",{className:"flex justify-start",children:s.jsx(C,{asChild:!0,children:s.jsx(n,{className:"inline-block px-4 py-2",onClick:()=>o(!0),children:"Asignar Rol"})})}),s.jsxs(N,{className:"sm:max-w-[425px]",children:[s.jsxs(b,{children:[s.jsx(v,{children:"Asignar Rol"}),s.jsx(R,{children:"Seleccione un usuario y un rol para asignarlo."})]}),s.jsxs("form",{onSubmit:g,className:"space-y-3",method:"post",action:route("contrata.roles.store"),children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(m,{htmlFor:"user",children:"Usuario"}),s.jsx(c,{data:p,value:e.userId,onChange:r=>a("userId",r),placeholder:"Seleccione un usuario...",className:"w-full"}),s.jsx(t,{message:i.userId})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(m,{htmlFor:"role",children:"Rol"}),s.jsx(c,{data:d,value:e.roleId,onChange:r=>a("roleId",r),placeholder:"Seleccione un rol...",className:"w-full"}),s.jsx(t,{message:i.roleId})]}),s.jsxs(n,{type:"submit",className:"mt-2",disabled:l||e.userId===null||e.roleId===null,children:[l&&s.jsx(E,{className:"h-4 w-4 animate-spin"}),"Asignar Rol"]})]})]})]})})}export{Y as default};
