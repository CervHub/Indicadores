import{U as x,g as at,r as v,K as xe,j as i,a as be,L as vt}from"./app-CDq8K-wc.js";import{C as ie,a as Te,b as De,c as Re,d as he}from"./card-DbEJgpin.js";import{h as E,r as it,i as gt,j as st,k as xt,l as z,m as Le,p as K,n as F,o as ot,q as Ie,s as je,D as bt,t as jt,u as J,v as H,S as At,A as St,w as Ot,x as Ve,y as Pt,z as U,B as kt,E as _t,G as wt,F as fe,H as Ct,I as Et,J as Nt,K as pe,M as Be,N as Tt,O as Dt,C as Fe,e as $e,b as Me,c as Rt,L as Lt,a as It,X as Ft,d as $t,f as Mt,g as Kt}from"./chart-D4PFfm7N.js";import{S as se,a as oe,b as le,c as ce,f as G}from"./select-BE3F_ZbP.js";import{e as V,m as Ke}from"./utils-Dxu7ruf7.js";import{A as Vt}from"./app-layout-CSVtrJ4o.js";import"./index-dQtiPiVl.js";import"./index-iJmeFYDn.js";import"./button-CNmb_yTe.js";import"./index-B65IYVem.js";import"./index-ngfvERTC.js";import"./index-p_U-oZ3m.js";import"./index-BTHb3mv-.js";import"./index-BhbsY726.js";import"./index-Ccsialnc.js";import"./check-DXcI-VPH.js";import"./index-Bz_C7NF3.js";import"./chevrons-up-down-BLDfocQ4.js";import"./app-logo-icon-K8ifRwBu.js";import"./file-chart-pie-B5uYWPLN.js";var Bt=["points","className","baseLinePoints","connectNulls"];function Z(){return Z=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},Z.apply(this,arguments)}function Yt(r,t){if(r==null)return{};var n=qt(r,t),e,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)e=s[a],!(t.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(r,e)&&(n[e]=r[e])}return n}function qt(r,t){if(r==null)return{};var n={};for(var e in r)if(Object.prototype.hasOwnProperty.call(r,e)){if(t.indexOf(e)>=0)continue;n[e]=r[e]}return n}function Ye(r){return Ht(r)||Wt(r)||Gt(r)||zt()}function zt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(r,t){if(r){if(typeof r=="string")return we(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(r,t)}}function Wt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ht(r){if(Array.isArray(r))return we(r)}function we(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}var qe=function(t){return t&&t.x===+t.x&&t.y===+t.y},Ut=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(e){qe(e)?n[n.length-1].push(e):n[n.length-1].length>0&&n.push([])}),qe(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ue=function(t,n){var e=Ut(t);n&&(e=[e.reduce(function(s,o){return[].concat(Ye(s),Ye(o))},[])]);var a=e.map(function(s){return s.reduce(function(o,d,f){return"".concat(o).concat(f===0?"M":"L").concat(d.x,",").concat(d.y)},"")}).join("");return e.length===1?"".concat(a,"Z"):a},Zt=function(t,n,e){var a=ue(t,e);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ue(n.reverse(),e).slice(1))},Xt=function(t){var n=t.points,e=t.className,a=t.baseLinePoints,s=t.connectNulls,o=Yt(t,Bt);if(!n||!n.length)return null;var d=V("recharts-polygon",e);if(a&&a.length){var f=o.stroke&&o.stroke!=="none",l=Zt(n,a,s);return x.createElement("g",{className:d},x.createElement("path",Z({},E(o,!0),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),f?x.createElement("path",Z({},E(o,!0),{fill:"none",d:ue(n,s)})):null,f?x.createElement("path",Z({},E(o,!0),{fill:"none",d:ue(a,s)})):null)}var m=ue(n,s);return x.createElement("path",Z({},E(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",className:d,d:m}))},ke,ze;function Jt(){if(ze)return ke;ze=1;var r=it(),t=gt(),n=st();function e(a,s){return a&&a.length?r(a,n(s,2),t):void 0}return ke=e,ke}var Qt=Jt();const er=at(Qt);var _e,Ge;function tr(){if(Ge)return _e;Ge=1;var r=it(),t=st(),n=xt();function e(a,s){return a&&a.length?r(a,t(s,2),n):void 0}return _e=e,_e}var rr=tr();const nr=at(rr);var ar=["cx","cy","angle","ticks","axisLine"],ir=["ticks","tick","angle","tickFormatter","stroke"];function Q(r){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(r)}function de(){return de=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},de.apply(this,arguments)}function We(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,e)}return n}function Y(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?We(Object(n),!0).forEach(function(e){Ae(r,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})}return r}function He(r,t){if(r==null)return{};var n=sr(r,t),e,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)e=s[a],!(t.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(r,e)&&(n[e]=r[e])}return n}function sr(r,t){if(r==null)return{};var n={};for(var e in r)if(Object.prototype.hasOwnProperty.call(r,e)){if(t.indexOf(e)>=0)continue;n[e]=r[e]}return n}function or(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,ct(e.key),e)}}function lr(r,t,n){return t&&Ue(r.prototype,t),n&&Ue(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function cr(r,t,n){return t=ye(t),ur(r,lt()?Reflect.construct(t,n||[],ye(r).constructor):t.apply(r,n))}function ur(r,t){if(t&&(Q(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dr(r)}function dr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lt=function(){return!!r})()}function ye(r){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ye(r)}function pr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Ce(r,t)}function Ce(r,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},Ce(r,t)}function Ae(r,t,n){return t=ct(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function ct(r){var t=fr(r,"string");return Q(t)=="symbol"?t:t+""}function fr(r,t){if(Q(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var e=n.call(r,t);if(Q(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Se=function(r){function t(){return or(this,t),cr(this,t,arguments)}return pr(t,r),lr(t,[{key:"getTickValueCoord",value:function(e){var a=e.coordinate,s=this.props,o=s.angle,d=s.cx,f=s.cy;return K(d,f,a,o)}},{key:"getTickTextAnchor",value:function(){var e=this.props.orientation,a;switch(e){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var e=this.props,a=e.cx,s=e.cy,o=e.angle,d=e.ticks,f=er(d,function(m){return m.coordinate||0}),l=nr(d,function(m){return m.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:l.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,a=e.cx,s=e.cy,o=e.angle,d=e.ticks,f=e.axisLine,l=He(e,ar),m=d.reduce(function(y,u){return[Math.min(y[0],u.coordinate),Math.max(y[1],u.coordinate)]},[1/0,-1/0]),c=K(a,s,m[0],o),h=K(a,s,m[1],o),b=Y(Y(Y({},E(l,!1)),{},{fill:"none"},E(f,!1)),{},{x1:c.x,y1:c.y,x2:h.x,y2:h.y});return x.createElement("line",de({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var e=this,a=this.props,s=a.ticks,o=a.tick,d=a.angle,f=a.tickFormatter,l=a.stroke,m=He(a,ir),c=this.getTickTextAnchor(),h=E(m,!1),b=E(o,!1),y=s.map(function(u,g){var j=e.getTickValueCoord(u),p=Y(Y(Y(Y({textAnchor:c,transform:"rotate(".concat(90-d,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:l},b),{},{index:g},j),{},{payload:u});return x.createElement(F,de({className:V("recharts-polar-radius-axis-tick",ot(o)),key:"tick-".concat(u.coordinate)},Ie(e.props,u,g)),t.renderTickItem(o,p,f?f(u.value,g):u.value))});return x.createElement(F,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var e=this.props,a=e.ticks,s=e.axisLine,o=e.tick;return!a||!a.length?null:x.createElement(F,{className:V("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),je.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(e,a,s){var o;return x.isValidElement(e)?o=x.cloneElement(e,a):z(e)?o=e(a):o=x.createElement(Le,de({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(v.PureComponent);Ae(Se,"displayName","PolarRadiusAxis");Ae(Se,"axisType","radiusAxis");Ae(Se,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ee(r){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(r)}function W(){return W=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},W.apply(this,arguments)}function Ze(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,e)}return n}function q(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ze(Object(n),!0).forEach(function(e){Oe(r,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})}return r}function mr(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,dt(e.key),e)}}function hr(r,t,n){return t&&Xe(r.prototype,t),n&&Xe(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function yr(r,t,n){return t=ve(t),vr(r,ut()?Reflect.construct(t,n||[],ve(r).constructor):t.apply(r,n))}function vr(r,t){if(t&&(ee(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gr(r)}function gr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ut(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ut=function(){return!!r})()}function ve(r){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ve(r)}function xr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Ee(r,t)}function Ee(r,t){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},Ee(r,t)}function Oe(r,t,n){return t=dt(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function dt(r){var t=br(r,"string");return ee(t)=="symbol"?t:t+""}function br(r,t){if(ee(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var e=n.call(r,t);if(ee(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var jr=Math.PI/180,Ar=1e-5,Pe=function(r){function t(){return mr(this,t),yr(this,t,arguments)}return xr(t,r),hr(t,[{key:"getTickLineCoord",value:function(e){var a=this.props,s=a.cx,o=a.cy,d=a.radius,f=a.orientation,l=a.tickSize,m=l||8,c=K(s,o,d,e.coordinate),h=K(s,o,d+(f==="inner"?-1:1)*m,e.coordinate);return{x1:c.x,y1:c.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(e){var a=this.props.orientation,s=Math.cos(-e.coordinate*jr),o;return s>Ar?o=a==="outer"?"start":"end":s<-1e-5?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var e=this.props,a=e.cx,s=e.cy,o=e.radius,d=e.axisLine,f=e.axisLineType,l=q(q({},E(this.props,!1)),{},{fill:"none"},E(d,!1));if(f==="circle")return x.createElement(bt,W({className:"recharts-polar-angle-axis-line"},l,{cx:a,cy:s,r:o}));var m=this.props.ticks,c=m.map(function(h){return K(a,s,o,h.coordinate)});return x.createElement(Xt,W({className:"recharts-polar-angle-axis-line"},l,{points:c}))}},{key:"renderTicks",value:function(){var e=this,a=this.props,s=a.ticks,o=a.tick,d=a.tickLine,f=a.tickFormatter,l=a.stroke,m=E(this.props,!1),c=E(o,!1),h=q(q({},m),{},{fill:"none"},E(d,!1)),b=s.map(function(y,u){var g=e.getTickLineCoord(y),j=e.getTickTextAnchor(y),p=q(q(q({textAnchor:j},m),{},{stroke:"none",fill:l},c),{},{index:u,payload:y,x:g.x2,y:g.y2});return x.createElement(F,W({className:V("recharts-polar-angle-axis-tick",ot(o)),key:"tick-".concat(y.coordinate)},Ie(e.props,y,u)),d&&x.createElement("line",W({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,p,f?f(y.value,u):y.value))});return x.createElement(F,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var e=this.props,a=e.ticks,s=e.radius,o=e.axisLine;return s<=0||!a||!a.length?null:x.createElement(F,{className:V("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(e,a,s){var o;return x.isValidElement(e)?o=x.cloneElement(e,a):z(e)?o=e(a):o=x.createElement(Le,W({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(v.PureComponent);Oe(Pe,"displayName","PolarAngleAxis");Oe(Pe,"axisType","angleAxis");Oe(Pe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var me;function te(r){"@babel/helpers - typeof";return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(r)}function X(){return X=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},X.apply(this,arguments)}function Je(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,e)}return n}function P(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(n),!0).forEach(function(e){I(r,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})}return r}function Sr(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,ft(e.key),e)}}function Or(r,t,n){return t&&Qe(r.prototype,t),n&&Qe(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Pr(r,t,n){return t=ge(t),kr(r,pt()?Reflect.construct(t,n||[],ge(r).constructor):t.apply(r,n))}function kr(r,t){if(t&&(te(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(r)}function _r(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pt=function(){return!!r})()}function ge(r){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ge(r)}function wr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Ne(r,t)}function Ne(r,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},Ne(r,t)}function I(r,t,n){return t=ft(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function ft(r){var t=Cr(r,"string");return te(t)=="symbol"?t:t+""}function Cr(r,t){if(te(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var e=n.call(r,t);if(te(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var M=function(r){function t(n){var e;return Sr(this,t),e=Pr(this,t,[n]),I(e,"pieRef",null),I(e,"sectorRefs",[]),I(e,"id",_t("recharts-pie-")),I(e,"handleAnimationEnd",function(){var a=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),z(a)&&a()}),I(e,"handleAnimationStart",function(){var a=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),z(a)&&a()}),e.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},e}return wr(t,r),Or(t,[{key:"isActiveIndex",value:function(e){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(e)!==-1:e===a}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?e.length!==0:e||e===0}},{key:"renderLabels",value:function(e){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,d=s.labelLine,f=s.dataKey,l=s.valueKey,m=E(this.props,!1),c=E(o,!1),h=E(d,!1),b=o&&o.offsetRadius||20,y=e.map(function(u,g){var j=(u.startAngle+u.endAngle)/2,p=K(u.cx,u.cy,u.outerRadius+b,j),O=P(P(P(P({},m),u),{},{stroke:"none"},c),{},{index:g,textAnchor:t.getTextAnchor(p.x,u.cx)},p),N=P(P(P(P({},m),u),{},{fill:"none",stroke:u.fill},h),{},{index:g,points:[K(u.cx,u.cy,u.outerRadius,j),p]}),k=f;return J(f)&&J(l)?k="value":J(f)&&(k=l),x.createElement(F,{key:"label-".concat(u.startAngle,"-").concat(u.endAngle,"-").concat(u.midAngle,"-").concat(g)},d&&t.renderLabelLineItem(d,N,"line"),t.renderLabelItem(o,O,H(u,k)))});return x.createElement(F,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(e){var a=this,s=this.props,o=s.activeShape,d=s.blendStroke,f=s.inactiveShape;return e.map(function(l,m){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&e.length!==1)return null;var c=a.isActiveIndex(m),h=f&&a.hasActiveIndex()?f:null,b=c?o:h,y=P(P({},l),{},{stroke:d?l.fill:l.stroke,tabIndex:-1});return x.createElement(F,X({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ie(a.props,l,m),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(m)}),x.createElement(At,X({option:b,isActive:c,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,a=this.props,s=a.sectors,o=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,l=a.animationEasing,m=a.animationId,c=this.state,h=c.prevSectors,b=c.prevIsAnimationActive;return x.createElement(St,{begin:d,duration:f,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var u=y.t,g=[],j=s&&s[0],p=j.startAngle;return s.forEach(function(O,N){var k=h&&h[N],R=N>0?Ot(O,"paddingAngle",0):0;if(k){var L=Ve(k.endAngle-k.startAngle,O.endAngle-O.startAngle),_=P(P({},O),{},{startAngle:p+R,endAngle:p+L(u)+R});g.push(_),p=_.endAngle}else{var $=O.endAngle,D=O.startAngle,S=Ve(0,$-D),w=S(u),T=P(P({},O),{},{startAngle:p+R,endAngle:p+w+R});g.push(T),p=T.endAngle}}),x.createElement(F,null,e.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(e){var a=this;e.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var d=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[d].focus(),a.setState({sectorToFocus:d});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var e=this.props,a=e.sectors,s=e.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Pt(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,a=this.props,s=a.hide,o=a.sectors,d=a.className,f=a.label,l=a.cx,m=a.cy,c=a.innerRadius,h=a.outerRadius,b=a.isAnimationActive,y=this.state.isAnimationFinished;if(s||!o||!o.length||!U(l)||!U(m)||!U(c)||!U(h))return null;var u=V("recharts-pie",d);return x.createElement(F,{tabIndex:this.props.rootTabIndex,className:u,ref:function(j){e.pieRef=j}},this.renderSectors(),f&&this.renderLabels(o),je.renderCallByParent(this.props,null,!1),(!b||y)&&kt.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return a.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==a.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:e.sectors!==a.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,a){return e>a?"start":e<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,a,s){if(x.isValidElement(e))return x.cloneElement(e,a);if(z(e))return e(a);var o=V("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(jt,X({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(e,a,s){if(x.isValidElement(e))return x.cloneElement(e,a);var o=s;if(z(e)&&(o=e(a),x.isValidElement(o)))return o;var d=V("recharts-pie-label-text",typeof e!="boolean"&&!z(e)?e.className:"");return x.createElement(Le,X({},a,{alignmentBaseline:"middle",className:d}),o)}}])}(v.PureComponent);me=M;I(M,"displayName","Pie");I(M,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});I(M,"parseDeltaAngle",function(r,t){var n=fe(t-r),e=Math.min(Math.abs(t-r),360);return n*e});I(M,"getRealPieData",function(r){var t=r.data,n=r.children,e=E(r,!1),a=Ct(n,Et);return t&&t.length?t.map(function(s,o){return P(P(P({payload:s},e),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return P(P({},e),s.props)}):[]});I(M,"parseCoordinateOfPie",function(r,t){var n=t.top,e=t.left,a=t.width,s=t.height,o=Nt(a,s),d=e+pe(r.cx,a,a/2),f=n+pe(r.cy,s,s/2),l=pe(r.innerRadius,o,0),m=pe(r.outerRadius,o,o*.8),c=r.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:d,cy:f,innerRadius:l,outerRadius:m,maxRadius:c}});I(M,"getComposedData",function(r){var t=r.item,n=r.offset,e=t.type.defaultProps!==void 0?P(P({},t.type.defaultProps),t.props):t.props,a=me.getRealPieData(e);if(!a||!a.length)return null;var s=e.cornerRadius,o=e.startAngle,d=e.endAngle,f=e.paddingAngle,l=e.dataKey,m=e.nameKey,c=e.valueKey,h=e.tooltipType,b=Math.abs(e.minAngle),y=me.parseCoordinateOfPie(e,n),u=me.parseDeltaAngle(o,d),g=Math.abs(u),j=l;J(l)&&J(c)?(Be(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):J(l)&&(Be(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=c);var p=a.filter(function(_){return H(_,j,0)!==0}).length,O=(g>=360?p:p-1)*f,N=g-p*b-O,k=a.reduce(function(_,$){var D=H($,j,0);return _+(U(D)?D:0)},0),R;if(k>0){var L;R=a.map(function(_,$){var D=H(_,j,0),S=H(_,m,$),w=(U(D)?D:0)/k,T;$?T=L.endAngle+fe(u)*f*(D!==0?1:0):T=o;var A=T+fe(u)*((D!==0?b:0)+w*N),C=(T+A)/2,B=(y.innerRadius+y.outerRadius)/2,ht=[{name:S,value:D,payload:_,dataKey:j,type:h}],yt=K(y.cx,y.cy,B,C);return L=P(P(P({percent:w,cornerRadius:s,name:S,tooltipPayload:ht,midAngle:C,middleRadius:B,tooltipPosition:yt},_),y),{},{value:H(_,j),startAngle:T,endAngle:A,payload:_,paddingAngle:fe(u)*f}),L})}return P(P({},y),{},{sectors:R,data:a})});var mt=Tt({chartName:"PieChart",GraphicalChild:M,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Pe},{axisType:"radiusAxis",AxisComp:Se}],formatAxisMap:Dt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Er={visitors:{label:"Número de reporte"}},et=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FFCD56","#4BC0C0","#36A2EB","#FF6384"],tt=(r,t,n,e,a,s)=>{const o=n==="all"?r:r.filter(c=>{const h=new Date(c.fecha_reporte).getMonth()+1;return h.toString()===n||h===parseInt(n)}),d=e==="all"?o:o.filter(c=>c.estado===e),f=a==="all"?d:d.filter(c=>c.company_id.toString()===a),l=s==="all"?f:f.filter(c=>c.gerencia.toString()===s),m=Object.keys(t).map((c,h)=>{const b=l.filter(y=>y.tipo_reporte===c).length;return{report:c,visitors:b,fill:et[h%et.length]}});return m.every(c=>c.visitors===0)?[{report:"Sin datos",visitors:0,fill:"#CCCCCC"}]:m},re=({value:r,onValueChange:t,options:n,placeholder:e})=>i.jsxs(se,{value:r,onValueChange:t,children:[i.jsx(oe,{className:"w-auto rounded-lg",children:i.jsx(le,{placeholder:e})}),i.jsx(ce,{className:"rounded-xl",children:n.map(a=>i.jsx(G,{value:a.value,children:a.label},a.value))})]});function Nr({titles:r,companies:t,entities:n}){const[e,a]=v.useState(new Date().getFullYear().toString()),[s,o]=v.useState("all"),[d,f]=v.useState("all"),[l,m]=v.useState("all"),[c,h]=v.useState("all"),[b,y]=v.useState([]),[u,g]=v.useState([]),[j,p]=v.useState(!0),O=xe().props.auth.user.company_id??null,N=v.useMemo(()=>{const S=new Date().getFullYear();return Array.from({length:S-2022},(w,T)=>(2023+T).toString())},[]);v.useEffect(()=>{(async()=>{p(!0);try{const w=new FormData;w.append("year",e),O&&(w.append("company_id",O.toString()),w.append("company_report_id",O.toString()));const T=await be.post(route("getReportsMetrics",{type:"cat"}),w);y(T.data.data),g(tt(T.data.data,r,s,d,l,c))}catch(w){console.error("Error fetching data:",w),y([]),g([{report:"Sin datos",visitors:0,fill:"#CCCCCC"}])}finally{p(!1)}})()},[e,r]),v.useEffect(()=>{g(tt(b,r,s,d,l,c))},[s,d,l,c,b,r]);const k=N.map(S=>({value:S,label:S})),R=[{value:"all",label:"Todos"},...Ke],L=[{value:"all",label:"Todos"},{value:"Generado",label:"Generado"},{value:"Revisado",label:"Revisado"},{value:"Finalizado",label:"Finalizado"}],_=[{value:"all",label:"Todas las compañías"},...t.map(S=>({value:S.id.toString(),label:S.nombre}))],$=[{value:"all",label:"Todas las entidades"},...n.map(S=>({value:S.id.toString(),label:S.nombre}))],D=u.reduce((S,w)=>S+w.visitors,0);return i.jsxs(ie,{children:[i.jsxs(Te,{className:"flex flex-col gap-4 border-b py-5 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[i.jsx(De,{children:"Reporte Anual"}),i.jsx(Re,{children:"Distribución por tipo: Actos y condiciones subestándares e incidentes"})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:justify-end",children:[i.jsx(re,{value:e,onValueChange:a,options:k,placeholder:"Seleccione un año"}),i.jsx(re,{value:s,onValueChange:o,options:R,placeholder:"Seleccione un mes"}),i.jsx(re,{value:d,onValueChange:f,options:L,placeholder:"Seleccione un estado"}),!O&&i.jsx(re,{value:l,onValueChange:m,options:_,placeholder:"Seleccione una compañía"}),i.jsx(re,{value:c,onValueChange:h,options:$,placeholder:"Seleccione una entidad"})]})]}),i.jsx(he,{className:"px-2 pt-4 sm:px-6 sm:pt-6",children:j?i.jsx("div",{className:"flex h-[320px] items-center justify-center",children:i.jsx("span",{children:"Loading..."})}):i.jsx(Fe,{config:Er,className:"mx-auto aspect-square max-h-[250px]",children:i.jsxs(mt,{children:[i.jsx($e,{cursor:!1,content:i.jsx(Me,{hideLabel:!0})}),i.jsx(M,{data:u,dataKey:"visitors",nameKey:"report",innerRadius:60,strokeWidth:5,children:i.jsx(je,{content:({viewBox:S})=>{if(S&&"cx"in S&&"cy"in S)return i.jsxs("text",{x:S.cx,y:S.cy,textAnchor:"middle",dominantBaseline:"middle",children:[i.jsx("tspan",{x:S.cx,y:S.cy,className:"fill-foreground text-3xl font-bold",children:D.toLocaleString()}),i.jsx("tspan",{x:S.cx,y:(S.cy||0)+24,className:"fill-muted-foreground",children:"Número de reporte"})]})}})}),i.jsx(Rt,{})]})})})]})}const Tr={visitors:{label:"Número de reporte"}},rt=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FFCD56","#4BC0C0","#36A2EB","#FF6384"],nt=(r,t,n,e,a,s)=>{const o=n==="all"?r:r.filter(c=>{const h=new Date(c.fecha_reporte).getMonth()+1;return h.toString()===n||h===parseInt(n)}),d=e==="all"?o:o.filter(c=>c.estado===e),f=a==="all"?d:d.filter(c=>c.company_id.toString()===a),l=s==="all"?f:f.filter(c=>c.gerencia.toString()===s);return t.map((c,h)=>{const b=l.filter(y=>parseInt(y.category_company_id)===parseInt(c.id)).length;return{report:c.nombre,visitors:b,fill:rt[h%rt.length]}})},ne=({value:r,onValueChange:t,options:n,placeholder:e})=>i.jsxs(se,{value:r,onValueChange:t,children:[i.jsx(oe,{className:"w-auto rounded-lg",children:i.jsx(le,{placeholder:e})}),i.jsx(ce,{className:"rounded-xl",children:n.map(a=>i.jsx(G,{value:a.value,children:a.label},a.value))})]});function Dr({title:r,pageType:t,companies:n,entities:e,categoriesData:a}){const[s,o]=v.useState(new Date().getFullYear().toString()),[d,f]=v.useState("all"),[l,m]=v.useState("all"),[c,h]=v.useState("all"),[b,y]=v.useState("all"),[u,g]=v.useState([]),[j,p]=v.useState([]),[O,N]=v.useState(!0),k=xe().props.auth.user.company_id??null,R=v.useMemo(()=>{const A=new Date().getFullYear();return Array.from({length:A-2022},(C,B)=>(2023+B).toString())},[]);v.useEffect(()=>{(async()=>{N(!0);try{const C=new FormData;C.append("year",s),C.append("tipo_reporte",t),k&&(C.append("company_id",k.toString()),C.append("company_report_id",k.toString()));const B=await be.post(route("getReportsMetrics",{type:"cat"}),C);g(B.data.data),p(nt(B.data.data,a,d,l,c,b))}catch(C){console.error("Error fetching data:",C),g([]),p([{report:"Sin datos",visitors:0,fill:"#CCCCCC"}])}finally{N(!1)}})()},[s,a]),v.useEffect(()=>{p(nt(u,a,d,l,c,b))},[d,l,c,b,u,a]);const L=R.map(A=>({value:A,label:A})),_=[{value:"all",label:"Todos"},...Ke],$=[{value:"all",label:"Todos"},{value:"Generado",label:"Generado"},{value:"Finalizado",label:"Finalizado"}],D=[{value:"all",label:"Todas las compañías"},...n.map(A=>({value:A.id.toString(),label:A.nombre}))],S=[{value:"all",label:"Todas las entidades"},...e.map(A=>({value:A.id.toString(),label:A.nombre}))],w=j.reduce((A,C)=>A+C.visitors,0),T=[...j].sort((A,C)=>C.visitors-A.visitors);return i.jsxs("div",{className:"space-y-4",children:[i.jsx(ie,{children:i.jsx(he,{className:"flex flex-col gap-4 py-5 sm:flex-row sm:items-center sm:justify-between",children:i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:justify-end",children:[i.jsx(ne,{value:s,onValueChange:o,options:L,placeholder:"Seleccione un año"}),i.jsx(ne,{value:d,onValueChange:f,options:_,placeholder:"Seleccione un mes"}),i.jsx(ne,{value:l,onValueChange:m,options:$,placeholder:"Seleccione un estado"}),!k&&i.jsx(ne,{value:c,onValueChange:h,options:D,placeholder:"Seleccione una compañía"}),i.jsx(ne,{value:b,onValueChange:y,options:S,placeholder:"Seleccione una entidad"})]})})}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3",children:[i.jsxs(ie,{className:"h-[500px]",children:[i.jsx(Te,{className:"flex flex-col gap-4 border-b py-5 sm:flex-row sm:items-center sm:justify-between",children:i.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[i.jsx(De,{children:"Reporte Anual"}),i.jsx(Re,{children:r})]})}),i.jsx(he,{className:"flex h-full justify-center",children:O?i.jsx("div",{className:"flex justify-center",children:i.jsx("span",{children:"Loading..."})}):i.jsx(Fe,{config:Tr,className:"mx-auto aspect-square h-full",children:i.jsxs(mt,{children:[i.jsx($e,{cursor:!1,content:i.jsx(Me,{hideLabel:!0})}),i.jsx(M,{data:T,dataKey:"visitors",nameKey:"report",innerRadius:60,strokeWidth:5,children:i.jsx(je,{content:({viewBox:A})=>{if(A&&"cx"in A&&"cy"in A)return i.jsxs("text",{x:A.cx,y:A.cy,textAnchor:"middle",dominantBaseline:"middle",children:[i.jsx("tspan",{x:A.cx,y:A.cy,className:"fill-foreground text-3xl font-bold",children:w.toLocaleString()}),i.jsx("tspan",{x:A.cx,y:(A.cy||0)+24,className:"fill-muted-foreground",children:"Número de reporte"})]})}})})]})})})]}),i.jsx(ie,{className:"col-span-2 m-0 h-[500px] p-0",children:i.jsx("div",{className:"max-h-full overflow-y-auto rounded-sm",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-full dark:divide-gray-700",children:[i.jsx("thead",{className:"sticky top-0 rounded-full bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-2 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Categoría"}),i.jsx("th",{scope:"col",className:"px-2 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Total"}),i.jsx("th",{scope:"col",className:"px-2 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Porcentaje"})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-200 rounded-b-sm bg-white dark:divide-gray-700 dark:bg-gray-900",children:[T.map((A,C)=>i.jsxs("tr",{children:[i.jsx("td",{className:"max-w-[300px] truncate px-2 py-1 text-sm font-medium whitespace-nowrap text-gray-900 dark:text-gray-100",children:A.report}),i.jsx("td",{className:"px-2 py-1 text-sm whitespace-nowrap text-gray-500 dark:text-gray-400",children:A.visitors}),i.jsx("td",{className:"px-2 py-1 text-sm whitespace-nowrap text-gray-500 dark:text-gray-400",children:w===0?"0%":(A.visitors/w*100).toFixed(2)+"%"})]},C)),i.jsxs("tr",{className:"sticky bottom-0 bg-gray-50 dark:bg-gray-800",children:[i.jsx("td",{className:"px-2 py-1 text-sm font-medium whitespace-nowrap text-gray-900 dark:text-gray-100",children:"Total"}),i.jsx("td",{className:"px-2 py-1 text-sm whitespace-nowrap text-gray-500 dark:text-gray-400",children:w}),i.jsx("td",{className:"px-2 py-1 text-sm whitespace-nowrap text-gray-500 dark:text-gray-400",children:"100%"})]})]})]})})})]})]})}const ae={actos:{label:"Reporte Actos Subestandar",color:"hsl(var(--chart-1))"},incidentes:{label:"Reporte Incidentes",color:"hsl(var(--chart-2))"},condiciones:{label:"Reporte Condiciones subestandar",color:"hsl(var(--chart-3))"}},Rr=r=>Array.from({length:365},(t,n)=>({date:new Date(r,0,n+1).toISOString().split("T")[0],actos:0,incidentes:0,condiciones:0})),Lr=r=>r.reduce((t,n)=>(t.actos+=n.actos,t.incidentes+=n.incidentes,t.condiciones+=n.condiciones,t),{actos:0,incidentes:0,condiciones:0}),Ir=()=>{const r=new Date().getFullYear(),[t,n]=v.useState(""),[e,a]=v.useState(r.toString()),[s,o]=v.useState("all"),[d,f]=v.useState("all"),[l,m]=v.useState([]),[c,h]=v.useState(!1),b=v.useMemo(()=>{const p=[];for(let O=2023;O<=r;O++)p.push(O.toString());return p},[r]),y=v.useMemo(()=>l.filter(p=>{const O=new Date(p.date),N=O.getFullYear().toString()===e,k=s==="all"||(O.getMonth()+1).toString()===s;return N&&k}),[l,e,s]),u=v.useMemo(()=>Lr(y),[y]),{props:g}=xe(),j=g.auth.user.company_id||"all";return v.useEffect(()=>{const p=route("year.metrics",{company_id:j,year:e});n(p)},[e,j]),v.useEffect(()=>{t&&(h(!0),be.get(t).then(p=>{const O=Rr(Number(e));p.data.events.forEach(N=>{const k=N.fecha_evento,R=N.tipo_reporte,L=O.find(_=>_.date===k);L&&L[R]++}),m(O)}).catch(p=>{console.error("Error fetching metrics data:",p)}).finally(()=>{h(!1)}))},[t,e]),i.jsxs(ie,{children:[i.jsxs(Te,{className:"flex items-center gap-2 space-y-0 border-b py-5 sm:flex-row",children:[i.jsxs("div",{className:"grid flex-1 gap-1 text-center sm:text-left",children:[i.jsx(De,{children:"Reporte general Anual"}),i.jsx(Re,{children:"Visualiza todos los reportes generados en la plataforma por todas las contratas."})]}),i.jsxs(se,{value:e,onValueChange:a,children:[i.jsx(oe,{className:"w-[160px] rounded-lg sm:ml-auto","aria-label":"Select a year",children:i.jsx(le,{placeholder:"Select a year"})}),i.jsx(ce,{className:"rounded-xl",children:b.map(p=>i.jsx(G,{value:p,className:"rounded-lg",children:p},p))})]}),i.jsxs(se,{value:s,onValueChange:o,children:[i.jsx(oe,{className:"w-[160px] rounded-lg sm:ml-auto","aria-label":"Select a month",children:i.jsx(le,{placeholder:"Select a month"})}),i.jsxs(ce,{className:"rounded-xl",children:[i.jsx(G,{value:"all",className:"rounded-lg",children:"Todos"}),Ke.map(p=>i.jsx(G,{value:p.value,className:"rounded-lg",children:p.label},p.value))]})]}),i.jsxs(se,{value:d,onValueChange:f,children:[i.jsx(oe,{className:"w-[220px] rounded-lg sm:ml-auto","aria-label":"Select a type",children:i.jsx(le,{placeholder:"Select a type"})}),i.jsxs(ce,{className:"rounded-xl",children:[i.jsx(G,{value:"all",className:"rounded-lg",children:"Todos"}),Object.keys(ae).map(p=>i.jsx(G,{value:p,className:"rounded-lg",children:ae[p].label},p))]})]})]}),i.jsx(he,{className:"px-2 pt-4 sm:px-6 sm:pt-6",children:c?i.jsx("div",{className:"flex h-[320px] items-center justify-center",children:i.jsx("span",{children:"Loading..."})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4 flex justify-around",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Actos:"})," ",u.actos]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Incidentes:"})," ",u.incidentes]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Condiciones:"})," ",u.condiciones]})]}),i.jsx(Fe,{config:ae,className:"aspect-auto h-[320px] w-full",children:i.jsxs(Lt,{data:y,children:[i.jsx(It,{vertical:!1}),i.jsx(Ft,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:p=>new Date(p).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),i.jsx($e,{cursor:!1,content:i.jsx(Me,{labelFormatter:p=>new Date(p).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}),indicator:"dot"})}),Object.keys(ae).map(p=>(d==="all"||d===p)&&i.jsx($t,{dataKey:p,type:"monotone",stroke:ae[p].color,strokeWidth:2,dot:!1},p)),i.jsx(Mt,{content:i.jsx(Kt,{})})]})})]})})]})};function nn({type:r}){const{props:t}=xe(),{type:n,companies:e,titles:a,entities:s}=t,[o,d]=v.useState(null),[f,l]=v.useState(!0);v.useEffect(()=>{n&&e&&["actos","condiciones","incidentes"].includes(n)?be.get(route("categories",{company_id:1,name:n})).then(j=>{d(j.data.data)}).catch(j=>{console.error(j)}).finally(()=>{l(!1)}):l(!1)},[n,e]);const m=[{title:"Dashboard",href:"/dashboard"}],c=[{text:"Actos y condiciones subestándares e incidentes",type:"cat"},{text:"Actos Subestándares",type:"actos"},{text:"Condiciones Subestándares",type:"condiciones"},{text:"Incidentes",type:"incidentes"}],h=[{text:"Actos y condiciones subestándares e incidentes",type:"yr"},{text:"Observaciones detectadas por Gerencia",type:"insp.yr"}],b=[{text:"Planeada, no planeada, comite y otros",type:"insp"},{text:"Detalles de inspección",type:"insp.det"}],u=[...h,...b,...c].find(g=>g.type===n);return m.push({title:u==null?void 0:u.text,href:`/dashboard/${u==null?void 0:u.type}`}),i.jsxs(Vt,{breadcrumbs:m,children:[i.jsx(vt,{title:(u==null?void 0:u.text)||"Dashboard"}),i.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:f?i.jsx("div",{children:"Loading..."}):n==="cat"?i.jsx(Nr,{titles:a,companies:e,entities:s}):n==="yr"?i.jsx(Ir,{}):n==="insp.yr"?i.jsx("div",{children:"En implementación"}):n==="insp"?i.jsx("div",{children:"En implementación"}):n==="insp.det"?i.jsx("div",{children:"En implementación"}):n==="actos"||n==="condiciones"||n==="incidentes"?i.jsx(Dr,{title:u==null?void 0:u.text,pageType:n,companies:e,entities:s,categoriesData:o}):i.jsx("div",{children:"Gráfico no encontrado"})})]})}export{nn as default};
