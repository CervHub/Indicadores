import{j as e,K as h,r as c,L as j}from"./app-DFJY1BGy.js";import{B as d}from"./button-Bc6R-Kxb.js";import{A as y}from"./arrow-up-down-rht8dcNe.js";import{D}from"./data-table-C1hWbQZA.js";import{C as S,a as G,b as O,d as N}from"./card-D486TOUN.js";import{A as I}from"./app-layout-pTNbT6c5.js";import k from"./create-DxQUFJJ6.js";import v from"./createCategoryCompany-BfyYTkOR.js";import w from"./createGroupCompany-CSGBllv8.js";import"./index-4Wby4sqP.js";import"./utils-gl1Fv5mo.js";import"./index-D7eof0gm.js";import"./table-KHlJsidM.js";import"./input-BWsNATuj.js";import"./index-BFxsZ1xd.js";import"./index-VxwpWnFy.js";import"./index-BhxNckzA.js";import"./index-DZKWfvhj.js";import"./tooltip-Dyl4vyNI.js";import"./index-DTuM4eI_.js";import"./index-DtbCXjQI.js";import"./index-BKqPsUxU.js";import"./chevrons-up-down-BY9x1ovE.js";import"./truck-nk0E01LI.js";import"./chevron-right-D94u1ioS.js";import"./input-error-Dh4Pkhmx.js";import"./dialog-CXUySuDq.js";import"./label-BLQodZug.js";import"./checkbox-D5zhiXQw.js";import"./check-D1ERWe29.js";import"./loader-circle-D3ZXsUMK.js";import"./select-nimDZlVg.js";const b=(g,n)=>[{accessorKey:"nombre",header:({column:t})=>e.jsxs(d,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Nombre",e.jsx(y,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"group",header:"Group",cell:({row:t})=>{const m=t.original,s=n.find(r=>r.id===Number(m.group_id));return console.log("Group:",s),console.log("Category Company:",m),console.log("Groups:",n),e.jsx("span",{children:(s==null?void 0:s.name)||"-"})}}],A=[{title:"Gestion de Seguridad y Salud Ocupacional",href:"/admin/category"}];function pe(){const{categories:g}=h().props,[n,t]=c.useState(!1),[m,s]=c.useState(!1),[r,u]=c.useState({id:null,name:null,isCategorized:null,groups:[]}),x=(i,o,a,l)=>{u({id:i,name:o,isCategorized:a,groups:l}),t(!0)},C=(i,o,a,l)=>{u({id:i,name:o,isCategorized:a,groups:l}),s(!0)};return e.jsxs(I,{breadcrumbs:A,children:[e.jsx(j,{title:"Gestion SSO"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(k,{}),e.jsx("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-1 lg:grid-cols-2",children:[...g].reverse().map(({id:i,nombre:o,is_categorized:a,category_companies:l,groups:p},f)=>e.jsxs(S,{children:[e.jsxs(G,{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[e.jsx(O,{className:"flex-1",children:o}),e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[a==="1"&&e.jsx(d,{size:"sm",variant:"secondary",onClick:()=>C(i,o,a,p),children:"Crear Grupo"}),e.jsxs(d,{size:"sm",className:"md:ml-4",onClick:()=>x(i,o,a,p),children:["Crear ",o]})]})]}),e.jsx(N,{children:e.jsx(D,{columns:b(()=>{},p),data:l})})]},f))})]}),r.id!==null&&e.jsxs(e.Fragment,{children:[e.jsx(v,{categoryId:r.id,title:r.name,isDialogOpen:n,setIsDialogOpen:t,isCategorized:r.isCategorized,groups:r.groups}),e.jsx(w,{categoryId:r.id,title:r.name,isDialogOpen:m,setIsDialogOpen:s})]})]})}export{pe as default};
