import{m as D,r as a,j as s}from"./app-Jkxlbawp.js";import{B as E}from"./button-B4B9TstI.js";import{D as g,b,c as y,d as N,e as S}from"./dialog-C6fCstu1.js";import{t as n}from"./index-DF3IFT55.js";import{L as v}from"./loader-circle-BLOFmYI8.js";import"./index-Bn6lqfqp.js";import"./utils-Dxu7ruf7.js";import"./index-CErYh_Q8.js";import"./index-BuaQXP4Z.js";function R({isOpen:c=!1,onOpenChange:o,selectedItem:e}){const{data:i,setData:d,delete:u,processing:m}=D({id:e.id}),[f,r]=a.useState(c),[x,j]=a.useState(!1);a.useEffect(()=>{j(i.id!=="0")},[i]),a.useEffect(()=>{r(c)},[c]),a.useEffect(()=>{d("id",e.id)},[e,d]);const h=t=>{t.preventDefault(),u(route("contrata.personal.destroy",{personal:i.id}),{onSuccess:p=>{const l=p.props.flash;l.success&&(n.success(l.success),r(!1),o&&o(!1)),l.error&&(n.error(l.error),r(!0))},onError:p=>{r(!0),n.error("Ocurrió un error al eliminar el personal.")}})};return s.jsx("div",{children:s.jsx(g,{open:f,onOpenChange:t=>{r(t),o&&o(t)},children:s.jsxs(b,{className:"sm:max-w-[425px]",children:[s.jsxs(y,{children:[s.jsx(N,{children:"Eliminar Personal"}),s.jsxs(S,{children:["¿Está seguro de que desea eliminar a ",e.nombres," ",e.apellidos,"? Esta acción no se puede deshacer."]})]}),s.jsx("form",{onSubmit:h,className:"space-y-3",method:"delete",action:route("contrata.personal.destroy",{personal:i.id}),children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(E,{type:"submit",className:"mt-2",disabled:m||!x,children:[m&&s.jsx(v,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})})}export{R as default};
