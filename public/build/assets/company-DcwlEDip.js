import{m as D,r as d,j as e}from"./app-BP7XMsQP.js";import{B as y}from"./button-B9YPBg05.js";import{D as g,b as E,c as b,d as N,e as C}from"./dialog-DGtaKyWd.js";import{t as m}from"./index-BIV9YrXW.js";import{L as S}from"./loader-circle-WM8PWUTH.js";import"./utils-Dxu7ruf7.js";import"./index-BUoUYoci.js";import"./index-BtQ3LuG1.js";import"./index-DET1ay4E.js";function I({isOpen:i=!1,onOpenChange:r,company:s,consolidated_id:l}){const{data:n,setData:c,delete:u,processing:p,reset:f}=D({company_id:s.id,consolidated_id:l}),[x,a]=d.useState(i);d.useEffect(()=>{a(i)},[i]),d.useEffect(()=>{c("company_id",s.id),c("consolidated_id",l)},[s,l,c]);const j=o=>{o.preventDefault(),u(route("consolidated.deleteCompany",{id:n.company_id}),{onSuccess:h=>{const t=h.props.flash;t.success&&(m.success(t.success),a(!1),f(),r&&r(!1)),t.error&&(a(!1),m.error(t.error))},onError:()=>{a(!0),m.error("Ocurrió un error al eliminar la empresa del consolidado.")}})};return e.jsx(g,{open:x,onOpenChange:o=>{a(o),r&&r(o)},children:e.jsxs(E,{className:"sm:max-w-[425px]",children:[e.jsxs(b,{children:[e.jsx(N,{children:"Eliminar Empresa"}),e.jsxs(C,{className:"text-justify",children:["¿Está seguro de que desea eliminar la empresa ",e.jsx("strong",{children:s.nombre})," (RUC: ",e.jsx("strong",{children:s.ruc}),") del consolidado?",e.jsx("hr",{}),"Esta acción no se puede deshacer y se eliminarán los datos subidos de esta empresa para este mes y año del consolidado."]})]}),e.jsx("form",{onSubmit:j,className:"space-y-3",method:"post",action:route("consolidated.deleteCompany",{id:n.company_id}),children:e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsxs(y,{type:"submit",className:"mt-2",disabled:p,children:[p&&e.jsx(S,{className:"h-4 w-4 animate-spin"}),"Aceptar"]})})})]})})}export{I as default};
